<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">iOS Development (and more) in alternative IDEs like Cursor / VSCode, for Bazel projects</h1><a id="user-content-ios-development-and-more-in-alternative-ides-like-cursor--vscode-for-bazel-projects" class="anchor" aria-label="Permalink: iOS Development (and more) in alternative IDEs like Cursor / VSCode, for Bazel projects" href="#ios-development-and-more-in-alternative-ides-like-cursor--vscode-for-bazel-projects"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><strong>sourcekit-bazel-bsp</strong> is a <a href="https://build-server-protocol.github.io/" rel="nofollow">Build Server Protocol</a> implementation that serves as a bridge between <a href="https://github.com/swiftlang/sourcekit-lsp">sourcekit-lsp</a> (Swift's official <a href="https://microsoft.github.io/language-server-protocol/" rel="nofollow">Language Server Protocol</a>) and your Bazel-based code, giving you the power to break free from the IDE side of Xcode and <strong>develop for Apple platforms like iOS in any IDE that has support for LSPs</strong>, such as Cursor and VSCode.</p>
<div class="markdown-alert markdown-alert-important" dir="auto"><p class="markdown-alert-title" dir="auto"><svg class="octicon octicon-report mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>Important</p><p dir="auto">sourcekit-bazel-bsp is designed specifically for projects that use the <a href="https://bazel.build/" rel="nofollow">Bazel build system</a> under the hood. It will not work for regular Xcode projects. For Xcode, check out projects like <a href="https://github.com/SolaWing/xcode-build-server">xcode-build-server</a> (unrelated to this project and Spotify).</p>
</div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="./Example/img/readme.png"><img width="1462" alt="Cursor running iOS" src="./Example/img/readme.png" style="max-width: 100%;"></a></p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Features</h2><a id="user-content-features" class="anchor" aria-label="Permalink: Features" href="#features"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked=""> All of the usual indexing features such as code completion, jump to definition, error annotations and so on, for both Swift and Obj-C (via the official <a href="https://github.com/swiftlang/sourcekit-lsp">sourcekit-lsp</a>)</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked=""> (Cursor / VSCode): Building and launching, all from within the IDE and directly via Bazel (no project generation required!)</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked=""> (Cursor / VSCode): Full <code>lldb</code> integration, allowing debugging from within the IDE just like Xcode (via <a href="https://marketplace.visualstudio.com/items?itemName=llvm-vs-code-extensions.lldb-dap" rel="nofollow">lldb-dap</a>, automatically provided by the official Swift extension)</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Incomplete task"> (Cursor / VSCode): Simulator selection from within the IDE</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Incomplete task"> (Cursor / VSCode): Automatic generation of build, launch, and debug tasks</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Incomplete task"> (Cursor / VSCode): Test explorer &amp; ability to run tests from within the IDE by clicking the tests individually, similarly to Xcode</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Incomplete task"> Automatic index and build graph updates when adding / deleting files and targets (in other words, allowing the user to make heavy changes to the project without needing to restart the IDE)</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Requirements</h2><a id="user-content-requirements" class="anchor" aria-label="Permalink: Requirements" href="#requirements"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>(To use the tool) Swift 6.1+ toolchain (equivalent to Xcode 16.4+)
<ul dir="auto">
<li>Note that even though sourcekit-bazel-bsp itself is completely detached from Xcode, <strong>you will still need to have Xcode installed on your machine to do any sort of actual Apple development.</strong> This is because installing Xcode is currently the only way to get access to and manage the platform toolchains, so even though this tool allows you to break free from the Xcode IDE itself, you still need to have it around for toolchain reasons. In order to completely avoid Xcode, we would need Apple to detach it from the toolchains and all their related tooling.</li>
</ul>
</li>
<li>(To compile the tool from source) Xcode 26</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Initial Setup Instructions</h2><a id="user-content-initial-setup-instructions" class="anchor" aria-label="Permalink: Initial Setup Instructions" href="#initial-setup-instructions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Cursor / VSCode</h3><a id="user-content-cursor--vscode" class="anchor" aria-label="Permalink: Cursor / VSCode" href="#cursor--vscode"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>Make sure your Bazel project is using compatible versions of all iOS-related Bazel rulesets (available on each release's description) and is configured to generate Swift/Obj-C indexing data and debug symbols, either by default or under a specific config.
<ul dir="auto">
<li>Detailed information around configuring Bazel flags is currently WIP, but you can currently check out the <a href="./Example">example project</a> for an example.</li>
</ul>
</li>
<li>Download and install <a href="https://marketplace.visualstudio.com/items?itemName=swiftlang.swift-vscode" rel="nofollow">the official Swift extension</a> for Cursor / VSCode.
<ul dir="auto">
<li>Note: (Cursor) As of writing, you won't be able to do this directly via Cursor's Marketplace (you will find one there, but it's an old version). You will need to download the <code>.vsix</code> file from the <a href="https://github.com/swiftlang/vscode-swift/releases">extension's releases</a> and install it manually.</li>
</ul>
</li>
<li>On Cursor / VSCode, open a workspace containing the repository in question.</li>
<li><strong>(Optional)</strong> Configure your workspace to use a custom <code>sourcekit-lsp</code> binary by placing the provided binary from the release archive at a place of your choice, running <em>Cmd+P</em> on the IDE, typing <code>&gt; Preferences: Open Workspace Settings (JSON)</code>, and adding the following entry to the JSON file: <code>"swift.sourcekit-lsp.serverPath": "(absolute path to the sourcekit-lsp binary to use)"</code>
<ul dir="auto">
<li>This is not strictly necessary. However, as we currently make use of LSP features that are not yet shipped to Xcode, you may face performance and other usability issues when using the version that is shipped with Xcode. Consider using the version provided alongside sourcekit-bazel-bsp (or compiling your own) for the best experience.</li>
</ul>
</li>
</ul>
<p dir="auto">The next step is to integrate sourcekit-bazel-bsp with your project:</p>
<ul dir="auto">
<li>Add the following to your <code>MODULE.bazel</code> file:</li>
</ul>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="bazel_dep(name = &quot;sourcekit_bazel_bsp&quot;, version = &quot;0.3.0&quot;, repo_name = &quot;sourcekit_bazel_bsp&quot;)"><pre><span class="pl-en">bazel_dep</span>(<span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"sourcekit_bazel_bsp"</span>, <span class="pl-s1">version</span> <span class="pl-c1">=</span> <span class="pl-s">"0.3.0"</span>, <span class="pl-s1">repo_name</span> <span class="pl-c1">=</span> <span class="pl-s">"sourcekit_bazel_bsp"</span>)</pre></div>
<ul dir="auto">
<li>Define a <code>setup_sourcekit_bsp</code> rule in a BUILD.bazel file in the root of your workspace and <a href="rules/setup_sourcekit_bsp.bzl#L48">configure it</a> for your desired setup:</li>
</ul>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@sourcekit_bazel_bsp//rules:setup_sourcekit_bsp.bzl&quot;)

setup_sourcekit_bsp(
  name = &quot;setup_sourcekit_bsp&quot;,
  ...
)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@sourcekit_bazel_bsp//rules:setup_sourcekit_bsp.bzl"</span>)

<span class="pl-en">setup_sourcekit_bsp</span>(
  <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"setup_sourcekit_bsp"</span>,
  ...
)</pre></div>
<ul dir="auto">
<li>Run <code>bazel run {path to the rule, e.g //:setup_sourcekit_bsp}</code>.</li>
</ul>
<p dir="auto">This will result in a <code>.bsp/skbsp.json</code> file being added to your workspace. Users should then re-run the above command whenever the configuration changes.</p>
<div class="markdown-heading" dir="auto"><h4 class="heading-element" dir="auto">After Integrating</h4><a id="user-content-after-integrating" class="anchor" aria-label="Permalink: After Integrating" href="#after-integrating"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>Either restart the language server (<code>Cmd+Shift+P -&gt; Swift: Restart LSP Server</code>) or reload the entire window (<code>Cmd+Shift+P -&gt; Reload Window</code>) if you don't see the previous option.</li>
</ul>
<p dir="auto">After following these steps and opening a Swift file, the <code>SourceKit Language Server</code> output tab (<em>Cmd+Shift+U</em>) should eventually show up (this will take a couple of seconds if the Swift extension needs to be launched on that window), and indexing-related actions will start popping up at the bottom of the IDE after a while alongside a new <code>SourceKit-LSP: Indexing</code> output tab when working with those files.</p>
<p dir="auto">While a complete indexing run can take a very long time on large projects, keep in mind that you don't need one. As long as the individual target you're working with is indexed (which happens automatically as you start working on it, as the LSP prioritizes targets you're actively modifying), all of the usual indexing features will work as you'd expect.</p>
<p dir="auto">If you experience any trouble trying to get it to work, check out the <a href="./Example">Example/ folder</a> for a test project with a pre-configured Bazel and <code>.bsp/</code> folder setup. The <em>Troubleshooting</em> section below also contains instructions on how to debug sourcekit-bazel-bsp.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Other IDEs</h3><a id="user-content-other-ides" class="anchor" aria-label="Permalink: Other IDEs" href="#other-ides"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The setup instructions depend on how the IDE integrates with LSPs. You should then search for instructions on how to install sourcekit-lsp on your IDE of choice and enable background indexing. After that, follow the <code>.bsp/</code> related steps from the above instructions. Keep in mind that this since project is developed specifically with Cursor / VSCode in mind, we cannot say how well sourcekit-bazel-bsp would work with other IDEs.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Bazel Caching Implications</h2><a id="user-content-bazel-caching-implications" class="anchor" aria-label="Permalink: Bazel Caching Implications" href="#bazel-caching-implications"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The BSP by default works by attempting to build your library targets individually with a set of platform flags based on the library's parent app, which is an action that currently does not share action cache keys with the compilation of the apps themselves. If your goal is to have index builds to have the same set of flags and cache as debug app compilations, this would mean that as of writing mean you would end up with two sets of cache.</p>
<p dir="auto">If this is undesirable, you can pass the <code>--compile-top-level</code> flag to make the BSP compile the target's <strong>parent</strong> instead, without any special flags. We recommend using this for projects that define fine-grained <code>*_build_test</code> targets and providing them as top-level targets for the BSP, as this enables maximum predictability and cacheability.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Troubleshooting</h2><a id="user-content-troubleshooting" class="anchor" aria-label="Permalink: Troubleshooting" href="#troubleshooting"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Seeing sourcekit-bazel-bsp's logs</h3><a id="user-content-seeing-sourcekit-bazel-bsps-logs" class="anchor" aria-label="Permalink: Seeing sourcekit-bazel-bsp's logs" href="#seeing-sourcekit-bazel-bsps-logs"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">sourcekit-bazel-bsp uses Apple's OSLog infrastructure under the hood. To see the tool's logs, run <code>log stream --process sourcekit-bazel-bsp --debug</code> on a terminal session.</p>
<p dir="auto">Some logs may be redacted. To enable extended logging and expose those logs, install the configuration profile at <a href="https://support.apple.com/guide/mac-help/configuration-profiles-standardize-settings-mh35561/mac#mchlp41bd550" rel="nofollow">as described here</a> You will then able to see the redacted logs.</p>
<p dir="auto">If you wish for the logs to become redacted again, you can remove the configuration profile <a href="https://support.apple.com/guide/mac-help/configuration-profiles-standardize-settings-mh35561/mac#mchlpa04df41." rel="nofollow">as described here.</a></p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Debugging</h3><a id="user-content-debugging" class="anchor" aria-label="Permalink: Debugging" href="#debugging"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Since sourcekit-bazel-bsp is initialized from within sourcekit-lsp, debugging it requires you to start a lldb session in advance. You can do it with the following command: <code>lldb --attach-name sourcekit-bazel-bsp --wait-for</code></p>
<p dir="auto">Once the lldb session is initialized, triggering the initialization of the Swift extension on your IDE of choice (e.g. opening a Swift file in VSCode) should eventually cause lldb to start a debugging session.</p>
</article></div>