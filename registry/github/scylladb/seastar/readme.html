<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Seastar</h1><a id="user-content-seastar" class="anchor" aria-label="Permalink: Seastar" href="#seastar"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a href="https://github.com/scylladb/seastar/actions/workflows/tests.yaml"><img src="https://github.com/scylladb/seastar/actions/workflows/tests.yaml/badge.svg" alt="Test" style="max-width: 100%;"></a>
<a href="https://github.com/scylladb/seastar/releases"><img src="https://camo.githubusercontent.com/8dfb511c6524ef17377b969798911c7b01d718aaec7450dd1ea1a1d68d468c7a/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f7461672f7363796c6c6164622f736561737461722e7376673f6c6162656c3d76657273696f6e26636f6c6f72423d677265656e" alt="Version" data-canonical-src="https://img.shields.io/github/tag/scylladb/seastar.svg?label=version&amp;colorB=green" style="max-width: 100%;"></a>
<a href="https://github.com/scylladb/seastar/blob/master/LICENSE"><img src="https://camo.githubusercontent.com/4b632f53b05b3ed7ad65abb2f3bce3c732b2b51cd5f813a5459a273dfc367695/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f7363796c6c6164622f736561737461722e737667" alt="License: Apache2" data-canonical-src="https://img.shields.io/github/license/scylladb/seastar.svg" style="max-width: 100%;"></a>
<a href="https://github.com/scylladb/seastar/labels/n00b"><img src="https://camo.githubusercontent.com/de0580d35827327b8eef84565a23f0fa693e5f3df6d3a601205a1ce0429ba9f8/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6973737565732f7363796c6c6164622f736561737461722f6e3030622e7376673f636f6c6f72423d677265656e" alt="n00b issues" data-canonical-src="https://img.shields.io/github/issues/scylladb/seastar/n00b.svg?colorB=green" style="max-width: 100%;"></a></p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Introduction</h2><a id="user-content-introduction" class="anchor" aria-label="Permalink: Introduction" href="#introduction"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">SeaStar is an event-driven framework allowing you to write non-blocking,
asynchronous code in a relatively straightforward manner (once understood).
It is based on <a href="http://en.wikipedia.org/wiki/Futures_and_promises" rel="nofollow">futures</a>.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Building Seastar</h2><a id="user-content-building-seastar" class="anchor" aria-label="Permalink: Building Seastar" href="#building-seastar"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">For more details and alternative work-flows, read <a href="./HACKING.md">HACKING.md</a>.</p>
<p dir="auto">Assuming that you would like to use system packages (RPMs or DEBs) for Seastar's dependencies, first install them:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ sudo ./install-dependencies.sh"><pre class="notranslate"><code>$ sudo ./install-dependencies.sh
</code></pre></div>
<p dir="auto">then configure (in "release" mode):</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ ./configure.py --mode=release"><pre class="notranslate"><code>$ ./configure.py --mode=release
</code></pre></div>
<p dir="auto">then compile:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ ninja -C build/release"><pre class="notranslate"><code>$ ninja -C build/release
</code></pre></div>
<p dir="auto">In case there are compilation issues, especially like <code>g++: internal compiler error: Killed (program cc1plus)</code>
try giving more memory to gcc, either by limiting the amount of threads ( -j1 ) and/or allowing at least 4g ram to your
machine.</p>
<p dir="auto">If you're missing a dependency of Seastar, then it is possible to have the configuration process fetch a version of the dependency locally for development.</p>
<p dir="auto">For example, to fetch <code>fmt</code> locally, configure Seastar like this:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ ./configure.py --mode=dev --cook fmt"><pre class="notranslate"><code>$ ./configure.py --mode=dev --cook fmt
</code></pre></div>
<p dir="auto"><code>--cook</code> can be repeated many times for selecting multiple dependencies.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Build modes</h2><a id="user-content-build-modes" class="anchor" aria-label="Permalink: Build modes" href="#build-modes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The configure.py script is a wrapper around cmake. The --mode argument
maps to CMAKE_BUILD_TYPE, and supports the following modes</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th></th>
<th>CMake mode</th>
<th>Debug info</th>
<th>OptimiÂ­zations</th>
<th>Sanitizers</th>
<th>Allocator</th>
<th>Checks</th>
<th>Use for</th>
</tr>
</thead>
<tbody>
<tr>
<td>debug</td>
<td><code>Debug</code></td>
<td>Yes</td>
<td><code>-O0</code></td>
<td>ASAN, UBSAN</td>
<td>System</td>
<td>All</td>
<td>gdb</td>
</tr>
<tr>
<td>release</td>
<td><code>RelWithDebInfo</code></td>
<td>Yes</td>
<td><code>-O3</code></td>
<td>None</td>
<td>Seastar</td>
<td>Asserts</td>
<td>production</td>
</tr>
<tr>
<td>dev</td>
<td><code>Dev</code> (Custom)</td>
<td>No</td>
<td><code>-O1</code></td>
<td>None</td>
<td>Seastar</td>
<td>Asserts</td>
<td>build and test cycle</td>
</tr>
<tr>
<td>sanitize</td>
<td><code>Sanitize</code> (Custom)</td>
<td>Yes</td>
<td><code>-Os</code></td>
<td>ASAN, UBSAN</td>
<td>System</td>
<td>All</td>
<td>second level of tests, track down bugs</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">Note that seastar is more sensitive to allocators and optimizations than
usual. A quick rule of the thumb of the relative performances is that
release is 2 times faster than dev, 150 times faster than sanitize and
300 times faster than debug.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Using Seastar from its build directory (without installation)</h2><a id="user-content-using-seastar-from-its-build-directory-without-installation" class="anchor" aria-label="Permalink: Using Seastar from its build directory (without installation)" href="#using-seastar-from-its-build-directory-without-installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">It's possible to consume Seastar directly from its build directory with CMake or <code>pkg-config</code>.</p>
<p dir="auto">We'll assume that the Seastar repository is located in a directory at <code>$seastar_dir</code>.</p>
<p dir="auto">Via <code>pkg-config</code>:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ g++ my_app.cc $(pkg-config --libs --cflags --static $seastar_dir/build/release/seastar.pc) -o my_app"><pre class="notranslate"><code>$ g++ my_app.cc $(pkg-config --libs --cflags --static $seastar_dir/build/release/seastar.pc) -o my_app
</code></pre></div>
<p dir="auto">and with CMake using the <code>Seastar</code> package:</p>
<p dir="auto"><code>CMakeLists.txt</code> for <code>my_app</code>:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="set (CMAKE_CXX_STANDARD 23)

find_package (Seastar REQUIRED)

add_executable (my_app
  my_app.cc)

target_link_libraries (my_app
  Seastar::seastar)"><pre class="notranslate"><code>set (CMAKE_CXX_STANDARD 23)

find_package (Seastar REQUIRED)

add_executable (my_app
  my_app.cc)

target_link_libraries (my_app
  Seastar::seastar)
</code></pre></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ mkdir $my_app_dir/build
$ cd $my_app_dir/build
$ cmake -DCMAKE_PREFIX_PATH=&quot;$seastar_dir/build/release;$seastar_dir/build/release/_cooking/installed&quot; -DCMAKE_MODULE_PATH=$seastar_dir/cmake $my_app_dir"><pre class="notranslate"><code>$ mkdir $my_app_dir/build
$ cd $my_app_dir/build
$ cmake -DCMAKE_PREFIX_PATH="$seastar_dir/build/release;$seastar_dir/build/release/_cooking/installed" -DCMAKE_MODULE_PATH=$seastar_dir/cmake $my_app_dir
</code></pre></div>
<p dir="auto">The <code>CMAKE_PREFIX_PATH</code> values ensure that CMake can locate Seastar and its compiled submodules. The <code>CMAKE_MODULE_PATH</code> value ensures that CMake can uses Seastar's CMake scripts for locating its dependencies.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Using an installed Seastar</h2><a id="user-content-using-an-installed-seastar" class="anchor" aria-label="Permalink: Using an installed Seastar" href="#using-an-installed-seastar"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">You can also consume Seastar after it has been installed to the file-system.</p>
<p dir="auto"><strong>Important:</strong></p>
<ul dir="auto">
<li>Seastar works with a customized version of DPDK, so by default builds and installs the DPDK submodule to <code>$build_dir/_cooking/installed</code></li>
</ul>
<p dir="auto">First, configure the installation path:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ ./configure.py --mode=release --prefix=/usr/local"><pre class="notranslate"><code>$ ./configure.py --mode=release --prefix=/usr/local
</code></pre></div>
<p dir="auto">then run the <code>install</code> target:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ ninja -C build/release install"><pre class="notranslate"><code>$ ninja -C build/release install
</code></pre></div>
<p dir="auto">then consume it from <code>pkg-config</code>:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ g++ my_app.cc $(pkg-config --libs --cflags --static seastar) -o my_app"><pre class="notranslate"><code>$ g++ my_app.cc $(pkg-config --libs --cflags --static seastar) -o my_app
</code></pre></div>
<p dir="auto">or consume it with the same <code>CMakeLists.txt</code> as before but with a simpler CMake invocation:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ cmake .."><pre class="notranslate"><code>$ cmake ..
</code></pre></div>
<p dir="auto">(If Seastar has not been installed to a "standard" location like <code>/usr</code> or <code>/usr/local</code>, then you can invoke CMake with <code>-DCMAKE_PREFIX_PATH=$my_install_root</code>.)</p>
<p dir="auto">There are also instructions for building on any host that supports <a href="doc/building-docker.md">Docker</a>.</p>
<p dir="auto">Use of the <a href="http://dpdk.org" rel="nofollow">DPDK</a> is <a href="doc/building-dpdk.md">optional</a>.</p>
<div class="markdown-heading" dir="auto"><h4 class="heading-element" dir="auto">Seastar's C++ standard: C++20 or C++23</h4><a id="user-content-seastars-c-standard-c20-or-c23" class="anchor" aria-label="Permalink: Seastar's C++ standard: C++20 or C++23" href="#seastars-c-standard-c20-or-c23"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Seastar supports both C++20, and C++23. The build defaults to the latest
standard supported by your compiler, but can be explicitly selected with
the <code>--c++-standard</code> configure option, e.g., <code>--c++-standard=20</code>,
or if using CMake directly, by setting on the <code>CMAKE_CXX_STANDARD</code> CMake
variable.</p>
<p dir="auto">See the <a href="doc/compatibility.md">compatibity statement</a> for more information.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Getting started</h2><a id="user-content-getting-started" class="anchor" aria-label="Permalink: Getting started" href="#getting-started"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">There is a <a href="doc/mini-tutorial.md">mini tutorial</a> and a <a href="doc/tutorial.md">more comprehensive one</a>.</p>
<p dir="auto">The documentation is available on the <a href="http://docs.seastar.io/master/index.html" rel="nofollow">web</a>.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Resources</h2><a id="user-content-resources" class="anchor" aria-label="Permalink: Resources" href="#resources"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>Seasatar Development Mailing List: Discuss challenges, propose improvements with
sending code contributions (patches), and get help from experienced developers.
Subscribe or browse archives: <a href="https://groups.google.com/forum/#!forum/seastar-dev" rel="nofollow">here</a>
(or email <a href="mailto:seastar-dev@googlegroups.com">seastar-dev@googlegroups.com</a>).</li>
<li>GitHub Discussions: For more casual conversations and quick questions, consider
using the Seastar project's <a href="https://github.com/scylladb/seastar/discussions">discussions on Github</a>.</li>
<li>Issue Tracker: File bug reports on the project's <a href="https://github.com/scylladb/seastar/issues">issue tracker</a>.</li>
</ul>
<p dir="auto">Learn more about Seastar on the main <a href="http://seastar.io" rel="nofollow">project website</a>.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">The Native TCP/IP Stack</h2><a id="user-content-the-native-tcpip-stack" class="anchor" aria-label="Permalink: The Native TCP/IP Stack" href="#the-native-tcpip-stack"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Seastar comes with its own <a href="doc/native-stack.md">userspace TCP/IP stack</a> for better performance.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Recommended hardware configuration for SeaStar</h2><a id="user-content-recommended-hardware-configuration-for-seastar" class="anchor" aria-label="Permalink: Recommended hardware configuration for SeaStar" href="#recommended-hardware-configuration-for-seastar"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>CPUs - As much as you need. SeaStar is highly friendly for multi-core and NUMA</li>
<li>NICs - As fast as possible, we recommend 10G or 40G cards. It's possible to use
1G too but you may be limited by their capacity.
In addition, the more hardware queue per cpu the better for SeaStar.
Otherwise we have to emulate that in software.</li>
<li>Disks - Fast SSDs with high number of IOPS.</li>
<li>Client machines - Usually a single client machine can't load our servers.
Both memaslap (memcached) and WRK (httpd) cannot over load their matching
server counter parts. We recommend running the client on different machine
than the servers and use several of them.</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Projects using Seastar</h2><a id="user-content-projects-using-seastar" class="anchor" aria-label="Permalink: Projects using Seastar" href="#projects-using-seastar"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><a href="https://github.com/cpv-project/cpv-cql-driver">cpv-cql-driver</a>: C++ driver for Cassandra/Scylla based on seastar framework</li>
<li><a href="https://github.com/cpv-project/cpv-framework">cpv-framework</a>: A web framework written in c++ based on seastar framework</li>
<li><a href="https://vectorized.io/" rel="nofollow">redpanda</a>: A Kafka replacement for mission critical systems</li>
<li><a href="https://github.com/scylladb/scylla">Scylla</a>: A fast and reliable NoSQL data store compatible with Cassandra and DynamoDB</li>
<li><a href="https://github.com/smfrpc/smf">smf</a>: The fastest RPC in the West</li>
<li><a href="https://github.com/ceph/ceph">Ceph - Crimson</a>: Next-generation OSD (Object Storage Daemon) implementation based on the Seastar framework</li>
</ul>
</article></div>