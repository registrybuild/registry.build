<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><p dir="auto"><a target="_blank" rel="noopener noreferrer" href="images/teaser.png"><img src="images/teaser.png" alt="Teaser image" title="Teaser image" style="max-width: 100%;"></a></p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">FLIP: A Tool for Visualizing and Communicating Errors in Rendered Images (v1.6)</h1><a id="user-content-flip-a-tool-for-visualizing-and-communicating-errors-in-rendered-images-v16" class="anchor" aria-label="Permalink: FLIP: A Tool for Visualizing and Communicating Errors in Rendered Images (v1.6)" href="#flip-a-tool-for-visualizing-and-communicating-errors-in-rendered-images-v16"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">By
<a href="https://research.nvidia.com/person/pontus-ebelin" rel="nofollow">Pontus Ebelin</a>
and
<a href="https://research.nvidia.com/person/tomas-akenine-m%C3%B6ller" rel="nofollow">Tomas Akenine-Möller</a>,
with
Jim Nilsson,
<a href="https://www1.maths.lth.se/matematiklth/personal/magnuso/" rel="nofollow">Magnus Oskarsson</a>,
<a href="https://www.maths.lu.se/staff/kalleastrom/" rel="nofollow">Kalle Åström</a>,
<a href="https://www.rit.edu/directory/mdfpph-mark-fairchild" rel="nofollow">Mark D. Fairchild</a>,
and
<a href="https://research.nvidia.com/person/peter-shirley" rel="nofollow">Peter Shirley</a>.</p>
<p dir="auto">This repository holds implementations of the <a href="https://research.nvidia.com/publication/2020-07_FLIP" rel="nofollow">LDR-FLIP</a>
and <a href="https://research.nvidia.com/publication/2021-05_HDR-FLIP" rel="nofollow">HDR-FLIP</a> image error metrics.
It also holds code for the FLIP tool, presented in <a href="https://www.realtimerendering.com/raytracinggems/rtg2/index.html" rel="nofollow">Ray Tracing Gems II</a>.</p>
<p dir="auto">The changes made for the different versions of FLIP are summarized in the <a href="https://github.com/NVlabs/flip/blob/main/misc/versionList.md">version list</a>.</p>
<p dir="auto"><a href="https://github.com/NVlabs/flip/blob/main/misc/papersUsingFLIP.md">A list of papers</a> that use/cite FLIP.</p>
<p dir="auto"><a href="https://github.com/NVlabs/flip/blob/main/misc/precision.md">A note</a> about the precision of FLIP.</p>
<p dir="auto"><a href="https://research.nvidia.com/node/3525" rel="nofollow">An image gallery</a> displaying a large quantity of reference/test images and corresponding error maps from
different metrics.</p>
<p dir="auto"><strong>Note</strong>: since v1.6, the Python version of FLIP can now be installed via <code>pip install flip-evaluator</code>.</p>
<p dir="auto"><strong>Note</strong>: in v1.3, we switched to a <em>single header</em> (<a href="src/cpp/FLIP.h">FLIP.h</a>) for C++/CUDA for easier integration.</p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">License</h1><a id="user-content-license" class="anchor" aria-label="Permalink: License" href="#license"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Copyright © 2020-2025, NVIDIA Corporation &amp; Affiliates. All rights reserved.</p>
<p dir="auto">This work is made available under a <a href="LICENSE">BSD 3-Clause License</a>.</p>
<p dir="auto">The repository distributes code for <code>tinyexr</code>, which is subject to a <a href="https://github.com/NVlabs/flip/blob/main/misc/LICENSE-third-party.md#bsd-3-clause-license">BSD 3-Clause License</a>,<br>
and <code>stb_image</code>, which is subject to an <a href="https://github.com/NVlabs/flip/blob/main/misc/LICENSE-third-party.md#mit-license">MIT License</a>.</p>
<p dir="auto">For individual contributions to the project, please confer the <a href="https://github.com/NVlabs/flip/blob/main/misc/CLA.md">Individual Contributor License Agreement</a>.</p>
<p dir="auto">For business inquiries, please visit our website and submit the form: <a href="https://www.nvidia.com/en-us/research/inquiries/" rel="nofollow">NVIDIA Research Licensing</a>.</p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Simplest Way To Get Started</h1><a id="user-content-simplest-way-to-get-started" class="anchor" aria-label="Permalink: Simplest Way To Get Started" href="#simplest-way-to-get-started"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The simplest way to run FLIP to compare a test image <code>testImage.png</code> to a reference image <code>referenceImage.png</code> is as follows:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="pip install flip-evaluator
flip -r referenceImage.png -t testImage.png"><pre class="notranslate"><code>pip install flip-evaluator
flip -r referenceImage.png -t testImage.png
</code></pre></div>
<p dir="auto">For more information about the tool's capabilities, try running <code>flip -h</code>.</p>
<p dir="auto">If you wish to use FLIP in your Python or C++ evaluation scripts, please read the next sections.</p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Python (API and Tool)</h1><a id="user-content-python-api-and-tool" class="anchor" aria-label="Permalink: Python (API and Tool)" href="#python-api-and-tool"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><strong>Setup</strong> (with pip):</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="pip install flip-evaluator"><pre class="notranslate"><code>pip install flip-evaluator
</code></pre></div>
<p dir="auto"><strong>Usage:</strong><br></p>
<p dir="auto">API:<br>
See the example script <code>src/python/api_example.py</code>.</p>
<p dir="auto">Tool:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="flip --reference reference.{exr|png} --test test.{exr|png} [--options]"><pre class="notranslate"><code>flip --reference reference.{exr|png} --test test.{exr|png} [--options]
</code></pre></div>
<p dir="auto">See the <a href="https://github.com/NVlabs/flip/blob/main/src/python/README.md">README</a> in the <code>python</code> folder and run <code>flip -h</code> for further information and usage instructions.</p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">C++ and CUDA (API and Tool)</h1><a id="user-content-c-and-cuda-api-and-tool" class="anchor" aria-label="Permalink: C++ and CUDA (API and Tool)" href="#c-and-cuda-api-and-tool"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><strong>Setup:</strong></p>
<p dir="auto">The <code>src/cpp/FLIP.sln</code> solution contains one CUDA backend project and one pure C++ backend project.</p>
<p dir="auto">Compiling the CUDA project requires a CUDA compatible GPU. Instruction on how to install CUDA can be found <a href="https://docs.nvidia.com/cuda/cuda-installation-guide-microsoft-windows/index.html" rel="nofollow">here</a>.</p>
<p dir="auto">Alternatively, a CMake build can be done by creating a build directory in the <code>src</code> directory and invoking CMake on the source <code>cpp</code> directory (add <code>--config Release</code> to build release configuration on Windows):</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="cd src
mkdir build
cd build
cmake ..
cmake --build . [--config Release]"><pre class="notranslate"><code>cd src
mkdir build
cd build
cmake ..
cmake --build . [--config Release]
</code></pre></div>
<p dir="auto">CUDA support is enabled via the <code>FLIP_ENABLE_CUDA</code>, which can be passed to CMake on the command line with
<code>-DFLIP_ENABLE_CUDA=ON</code> or set interactively with <code>ccmake</code> or <code>cmake-gui</code>.
<code>FLIP_LIBRARY</code> option allows to output a library rather than an executable.</p>
<p dir="auto"><strong>Usage:</strong><br></p>
<p dir="auto">API:<br>
See the <a href="https://github.com/NVlabs/flip/blob/main/src/cpp/README.md">README</a>.</p>
<p dir="auto">Tool:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="flip[-cuda].exe --reference reference.{exr|png} --test test.{exr|png} [options]"><pre class="notranslate"><code>flip[-cuda].exe --reference reference.{exr|png} --test test.{exr|png} [options]
</code></pre></div>
<p dir="auto">See the <a href="https://github.com/NVlabs/flip/blob/main/src/cpp/README.md">README</a> in the <code>src/cpp</code> folder and run <code>flip[-cuda].exe -h</code> for further information and usage instructions.</p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">PyTorch (Loss Function)</h1><a id="user-content-pytorch-loss-function" class="anchor" aria-label="Permalink: PyTorch (Loss Function)" href="#pytorch-loss-function"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><strong>Setup</strong> (with Anaconda3 or Miniconda):</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="conda create -n flip_dl python numpy matplotlib
conda activate flip_dl
conda install pytorch torchvision torchaudio cudatoolkit=11.1 -c pytorch -c conda-forge
conda install -c conda-forge openexr-python"><pre class="notranslate"><code>conda create -n flip_dl python numpy matplotlib
conda activate flip_dl
conda install pytorch torchvision torchaudio cudatoolkit=11.1 -c pytorch -c conda-forge
conda install -c conda-forge openexr-python
</code></pre></div>
<p dir="auto"><strong>Usage:</strong></p>
<p dir="auto"><em>Remember to activate the</em> <code>flip_dl</code> <em>environment through</em> <code>conda activate flip_dl</code> <em>before using the loss function.</em></p>
<p dir="auto">LDR- and HDR-FLIP are implemented as loss modules in <code>src/pytorch/flip_loss.py</code>. An example where the loss function is used to train a simple autoencoder is provided in <code>src/pytorch/train.py</code>.</p>
<p dir="auto">See the <a href="https://github.com/NVlabs/flip/blob/main/src/pytorch/README.md">README</a> in the <code>pytorch</code> folder for further information and usage instructions.</p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Citation</h1><a id="user-content-citation" class="anchor" aria-label="Permalink: Citation" href="#citation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">If your work uses the FLIP tool to find the errors between <em>low dynamic range</em> images,
please cite the LDR-FLIP paper:<br>
<a href="https://research.nvidia.com/publication/2020-07_FLIP" rel="nofollow">Paper</a> | <a href="https://github.com/NVlabs/flip/blob/main/misc/LDRFLIP.txt">BibTeX</a></p>
<p dir="auto">If it uses the FLIP tool to find the errors between <em>high dynamic range</em> images,
instead cite the HDR-FLIP paper:<br>
<a href="https://research.nvidia.com/publication/2021-05_HDR-FLIP" rel="nofollow">Paper</a> | <a href="https://github.com/NVlabs/flip/blob/main/misc/HDRFLIP.txt">BibTeX</a></p>
<p dir="auto">Should your work use the FLIP tool in a more general fashion, please cite the Ray Tracing Gems II article:<br>
<a href="https://link.springer.com/chapter/10.1007%2F978-1-4842-7185-8_19" rel="nofollow">Chapter</a> | <a href="https://github.com/NVlabs/flip/blob/main/misc/FLIP.txt">BibTeX</a></p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Acknowledgements</h1><a id="user-content-acknowledgements" class="anchor" aria-label="Permalink: Acknowledgements" href="#acknowledgements"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">We appreciate the following peoples' contributions to this repository:
Jonathan Granskog, Jacob Munkberg, Jon Hasselgren, Jefferson Amstutz, Alan Wolfe, Killian Herveau, Vinh Truong, Philippe Dagobert, Hannes Hergeth, Matt Pharr, Tizian Zeltner, Jan Honsbrok, Chris Zhang, and Wenzel Jakob.</p>
</article></div>