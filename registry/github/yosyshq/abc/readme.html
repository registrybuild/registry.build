<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><p dir="auto"><a href="https://github.com/berkeley-abc/abc/actions/workflows/build-posix.yml"><img src="https://github.com/berkeley-abc/abc/actions/workflows/build-posix.yml/badge.svg" alt=".github/workflows/build-posix.yml" style="max-width: 100%;"></a>
<a href="https://github.com/berkeley-abc/abc/actions/workflows/build-windows.yml"><img src="https://github.com/berkeley-abc/abc/actions/workflows/build-windows.yml/badge.svg" alt=".github/workflows/build-windows.yml" style="max-width: 100%;"></a>
<a href="https://github.com/berkeley-abc/abc/actions/workflows/build-posix-cmake.yml"><img src="https://github.com/berkeley-abc/abc/actions/workflows/build-posix-cmake.yml/badge.svg" alt=".github/workflows/build-posix-cmake.yml" style="max-width: 100%;"></a></p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">ABC: System for Sequential Logic Synthesis and Formal Verification</h1><a id="user-content-abc-system-for-sequential-logic-synthesis-and-formal-verification" class="anchor" aria-label="Permalink: ABC: System for Sequential Logic Synthesis and Formal Verification" href="#abc-system-for-sequential-logic-synthesis-and-formal-verification"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">ABC is always changing but the current snapshot is believed to be stable.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">ABC fork with new features</h2><a id="user-content-abc-fork-with-new-features" class="anchor" aria-label="Permalink: ABC fork with new features" href="#abc-fork-with-new-features"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Here is a <a href="https://github.com/yongshiwo/abc.git">fork</a> of ABC containing Agdmap, a novel technology mapper for LUT-based FPGAs.  Agdmap is based on a technology mapping algorithm with adaptive gate decomposition [1]. It is a cut enumeration based mapping algorithm with bin packing for simultaneous wide gate decomposition, which is a patent pending technology.</p>
<p dir="auto">The mapper is developed and maintained by Longfei Fan and Prof. Chang Wu at Fudan University in Shanghai, China.  The experimental results presented in [1] indicate that Agdmap can substantially improve area (by 10% or more) when compared against the best LUT mapping solutions in ABC, such as command "if".</p>
<p dir="auto">The source code is provided for research and evaluation only. For commercial usage, please contact Prof. Chang Wu at <a href="mailto:wuchang@fudan.edu.cn">wuchang@fudan.edu.cn</a>.</p>
<p dir="auto">References:</p>
<p dir="auto">[1] L. Fan and C. Wu, "FPGA technology mapping with adaptive gate decompostion", ACM/SIGDA FPGA International Symposium on FPGAs, 2023.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Compiling:</h2><a id="user-content-compiling" class="anchor" aria-label="Permalink: Compiling:" href="#compiling"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">To compile ABC as a binary, download and unzip the code, then type <code>make</code>.
To compile ABC as a static library, type <code>make libabc.a</code>.</p>
<p dir="auto">When ABC is used as a static library, two additional procedures, <code>Abc_Start()</code>
and <code>Abc_Stop()</code>, are provided for starting and quitting the ABC framework in
the calling application. A simple demo program (file src/demo.c) shows how to
create a stand-alone program performing DAG-aware AIG rewriting, by calling
APIs of ABC compiled as a static library.</p>
<p dir="auto">To build the demo program</p>
<ul dir="auto">
<li>Copy demo.c and libabc.a to the working directory</li>
<li>Run <code>gcc -Wall -g -c demo.c -o demo.o</code></li>
<li>Run <code>g++ -g -o demo demo.o libabc.a -lm -ldl -lreadline -lpthread</code></li>
</ul>
<p dir="auto">To run the demo program, give it a file with the logic network in AIGER or BLIF. For example:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="[...] ~/abc&gt; demo i10.aig
i10          : i/o =  257/  224  lat =    0  and =   2396  lev = 37
i10          : i/o =  257/  224  lat =    0  and =   1851  lev = 35
Networks are equivalent.
Reading =   0.00 sec   Rewriting =   0.18 sec   Verification =   0.41 sec"><pre class="notranslate"><code>[...] ~/abc&gt; demo i10.aig
i10          : i/o =  257/  224  lat =    0  and =   2396  lev = 37
i10          : i/o =  257/  224  lat =    0  and =   1851  lev = 35
Networks are equivalent.
Reading =   0.00 sec   Rewriting =   0.18 sec   Verification =   0.41 sec
</code></pre></div>
<p dir="auto">The same can be produced by running the binary in the command-line mode:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="[...] ~/abc&gt; ./abc
UC Berkeley, ABC 1.01 (compiled Oct  6 2012 19:05:18)
abc 01&gt; r i10.aig; b; ps; b; rw -l; rw -lz; b; rw -lz; b; ps; cec
i10          : i/o =  257/  224  lat =    0  and =   2396  lev = 37
i10          : i/o =  257/  224  lat =    0  and =   1851  lev = 35
Networks are equivalent."><pre class="notranslate"><code>[...] ~/abc&gt; ./abc
UC Berkeley, ABC 1.01 (compiled Oct  6 2012 19:05:18)
abc 01&gt; r i10.aig; b; ps; b; rw -l; rw -lz; b; rw -lz; b; ps; cec
i10          : i/o =  257/  224  lat =    0  and =   2396  lev = 37
i10          : i/o =  257/  224  lat =    0  and =   1851  lev = 35
Networks are equivalent.
</code></pre></div>
<p dir="auto">or in the batch mode:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="[...] ~/abc&gt; ./abc -c &quot;r i10.aig; b; ps; b; rw -l; rw -lz; b; rw -lz; b; ps; cec&quot;
ABC command line: &quot;r i10.aig; b; ps; b; rw -l; rw -lz; b; rw -lz; b; ps; cec&quot;.
i10          : i/o =  257/  224  lat =    0  and =   2396  lev = 37
i10          : i/o =  257/  224  lat =    0  and =   1851  lev = 35
Networks are equivalent."><pre class="notranslate"><code>[...] ~/abc&gt; ./abc -c "r i10.aig; b; ps; b; rw -l; rw -lz; b; rw -lz; b; ps; cec"
ABC command line: "r i10.aig; b; ps; b; rw -l; rw -lz; b; rw -lz; b; ps; cec".
i10          : i/o =  257/  224  lat =    0  and =   2396  lev = 37
i10          : i/o =  257/  224  lat =    0  and =   1851  lev = 35
Networks are equivalent.
</code></pre></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Compiling as C or C++</h2><a id="user-content-compiling-as-c-or-c" class="anchor" aria-label="Permalink: Compiling as C or C++" href="#compiling-as-c-or-c"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The current version of ABC can be compiled with C compiler or C++ compiler.</p>
<ul dir="auto">
<li>To compile as C code (default): make sure that <code>CC=gcc</code> and <code>ABC_NAMESPACE</code> is not defined.</li>
<li>To compile as C++ code without namespaces: make sure that <code>CC=g++</code> and <code>ABC_NAMESPACE</code> is not defined.</li>
<li>To compile as C++ code with namespaces: make sure that <code>CC=g++</code> and <code>ABC_NAMESPACE</code> is set to
the name of the requested namespace. For example, add <code>-DABC_NAMESPACE=xxx</code> to OPTFLAGS.</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Building a shared library</h2><a id="user-content-building-a-shared-library" class="anchor" aria-label="Permalink: Building a shared library" href="#building-a-shared-library"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>
<p dir="auto">Compile the code as position-independent by adding <code>ABC_USE_PIC=1</code>.</p>
</li>
<li>
<p dir="auto">Build the <code>libabc.so</code> target:</p>
<p dir="auto">make ABC_USE_PIC=1 libabc.so</p>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Bug reporting:</h2><a id="user-content-bug-reporting" class="anchor" aria-label="Permalink: Bug reporting:" href="#bug-reporting"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Please try to reproduce all the reported bugs and unexpected features using the latest
version of ABC available from <a href="https://github.com/berkeley-abc/abc">https://github.com/berkeley-abc/abc</a></p>
<p dir="auto">If the bug still persists, please provide the following information:</p>
<ol dir="auto">
<li>ABC version (when it was downloaded from GitHub)</li>
<li>Linux distribution and version (32-bit or 64-bit)</li>
<li>The exact command-line and error message when trying to run the tool</li>
<li>The output of the <code>ldd</code> command run on the exeutable (e.g. <code>ldd abc</code>).</li>
<li>Versions of relevant tools or packages used.</li>
</ol>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Troubleshooting:</h2><a id="user-content-troubleshooting" class="anchor" aria-label="Permalink: Troubleshooting:" href="#troubleshooting"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ol dir="auto">
<li>If compilation does not start because of the cyclic dependency check,
try touching all files as follows: <code>find ./ -type f -exec touch "{}" \;</code></li>
<li>If compilation fails because readline is missing, install 'readline' library or
compile with <code>make ABC_USE_NO_READLINE=1</code></li>
<li>If compilation fails because pthreads are missing, install 'pthread' library or
compile with <code>make ABC_USE_NO_PTHREADS=1</code>
<ul dir="auto">
<li>See <a href="http://sourceware.org/pthreads-win32/" rel="nofollow">http://sourceware.org/pthreads-win32/</a> for pthreads on Windows</li>
<li>Precompiled DLLs are available from ftp://sourceware.org/pub/pthreads-win32/dll-latest</li>
</ul>
</li>
<li>If compilation fails in file "src/base/main/libSupport.c", try the following:
<ul dir="auto">
<li>Remove "src/base/main/libSupport.c" from "src/base/main/module.make"</li>
<li>Comment out calls to <code>Libs_Init()</code> and <code>Libs_End()</code> in "src/base/main/mainInit.c"</li>
</ul>
</li>
<li>On some systems, readline requires adding '-lcurses' to Makefile.</li>
</ol>
<p dir="auto">The following comment was added by Krish Sundaresan:</p>
<p dir="auto">"I found that the code does compile correctly on Solaris if gcc is used (instead of
g++ that I was using for some reason). Also readline which is not available by default
on most Sol10 systems, needs to be installed. I downloaded the readline-5.2 package
from sunfreeware.com and installed it locally. Also modified CFLAGS to add the local
include files for readline and LIBS to add the local libreadline.a. Perhaps you can
add these steps in the readme to help folks compiling this on Solaris."</p>
<p dir="auto">The following tutorial is kindly offered by Ana Petkovska from EPFL:
<a href="https://www.dropbox.com/s/qrl9svlf0ylxy8p/ABC_GettingStarted.pdf" rel="nofollow">https://www.dropbox.com/s/qrl9svlf0ylxy8p/ABC_GettingStarted.pdf</a></p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Final remarks:</h2><a id="user-content-final-remarks" class="anchor" aria-label="Permalink: Final remarks:" href="#final-remarks"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Unfortunately, there is no comprehensive regression test. Good luck!</p>
<p dir="auto">This system is maintained by Alan Mishchenko <a href="mailto:alanmi@berkeley.edu">alanmi@berkeley.edu</a>. Consider also
using ZZ framework developed by Niklas Een: <a href="https://bitbucket.org/niklaseen/abc-zz" rel="nofollow">https://bitbucket.org/niklaseen/abc-zz</a> (or <a href="https://github.com/berkeley-abc/abc-zz">https://github.com/berkeley-abc/abc-zz</a>)</p>
</article></div>