<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto"><code>rules_hugo</code></h1><a id="user-content-rules_hugo" class="anchor" aria-label="Permalink: rules_hugo" href="#rules_hugo"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a href="https://cirrus-ci.com/github/stackb/rules_hugo" rel="nofollow"><img src="https://camo.githubusercontent.com/d70eb5f01732e14f6e22cf84288ae6a5de8dc367e52d4f0a19b9c97391ef2d73/68747470733a2f2f6170692e6369727275732d63692e636f6d2f6769746875622f737461636b622f72756c65735f6875676f2e737667" alt="Build Status" data-canonical-src="https://api.cirrus-ci.com/github/stackb/rules_hugo.svg" style="max-width: 100%;"></a></p>
<markdown-accessiblity-table><table><tbody><tr>
<td><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/bazelbuild/bazel-blog/master/images/bazel-icon.svg"><img src="https://raw.githubusercontent.com/bazelbuild/bazel-blog/master/images/bazel-icon.svg" height="120" style="max-width: 100%; height: auto; max-height: 120px;"></a></td>
<td><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/gohugoio/hugoDocs/master/static/img/hugo-logo.png"><img src="https://raw.githubusercontent.com/gohugoio/hugoDocs/master/static/img/hugo-logo.png" height="120" style="max-width: 100%; height: auto; max-height: 120px;"></a></td>
</tr><tr>
<td>Rules</td>
<td>Hugo</td>
</tr></tbody></table></markdown-accessiblity-table>
<p dir="auto"><a href="https://bazel.build" rel="nofollow">Bazel</a> rules for building static websites with <a href="https://gohugo.io" rel="nofollow">Hugo</a>.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Repository Rules</h2><a id="user-content-repository-rules" class="anchor" aria-label="Permalink: Repository Rules" href="#repository-rules"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th align="right">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right"><a href="#hugo_repository">hugo_repository</a></td>
<td align="left">Load hugo dependency for this repo.</td>
</tr>
<tr>
<td align="right"><a href="#github_hugo_theme">github_hugo_theme</a></td>
<td align="left">Load a hugo theme from github.</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Build Rules</h2><a id="user-content-build-rules" class="anchor" aria-label="Permalink: Build Rules" href="#build-rules"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th align="right">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right"><a href="#hugo_site">hugo_site</a></td>
<td align="left">Declare a hugo site.</td>
</tr>
<tr>
<td align="right"><a href="#hugo_theme">hugo_theme</a></td>
<td align="left">Declare a hugo theme.</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Usage</h2><a id="user-content-usage" class="anchor" aria-label="Permalink: Usage" href="#usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Add rules_hugo to your WORKSPACE and add a theme from github</h3><a id="user-content-add-rules_hugo-to-your-workspace-and-add-a-theme-from-github" class="anchor" aria-label="Permalink: Add rules_hugo to your WORKSPACE and add a theme from github" href="#add-rules_hugo-to-your-workspace-and-add-a-theme-from-github"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="# Update these to latest
RULES_HUGO_COMMIT = &quot;...&quot;
RULES_HUGO_SHA256 = &quot;...&quot;

http_archive(
    name = &quot;build_stack_rules_hugo&quot;,
    url = &quot;https://github.com/stackb/rules_hugo/archive/%s.zip&quot; % RULES_HUGO_COMMIT,
    sha256 = RULES_HUGO_SHA256,
    strip_prefix = &quot;rules_hugo-%s&quot; % RULES_HUGO_COMMIT
)

load(&quot;@build_stack_rules_hugo//hugo:rules.bzl&quot;, &quot;hugo_repository&quot;, &quot;github_hugo_theme&quot;)

#
# Load hugo binary itself
#
# Optionally, load a specific version of Hugo, with the 'version' argument
hugo_repository(
    name = &quot;hugo&quot;,
)

#
# This makes a filegroup target &quot;@com_github_yihui_hugo_xmin//:files&quot;
# available to your build files
#
github_hugo_theme(
    name = &quot;com_github_yihui_hugo_xmin&quot;,
    owner = &quot;yihui&quot;,
    repo = &quot;hugo-xmin&quot;,
    commit = &quot;c14ca049d0dd60386264ea68c91d8495809cc4c6&quot;,
)

#
# This creates a filegroup target from a released archive from GitHub
# this is useful when a theme uses compiled / aggregated sources NOT found
# in a source root.
#
http_archive(
    name = &quot;com_github_thegeeklab_hugo_geekdoc&quot;,
    url = &quot;https://github.com/thegeeklab/hugo-geekdoc/releases/download/v0.34.2/hugo-geekdoc.tar.gz&quot;,
    sha256 = &quot;7fdd57f7d4450325a778629021c0fff5531dc8475de6c4ec70ab07e9484d400e&quot;,
    build_file_content=&quot;&quot;&quot;
filegroup(
    name = &quot;files&quot;,
    srcs = glob([&quot;**&quot;]),
    visibility = [&quot;//visibility:public&quot;]
)
    &quot;&quot;&quot;
)"><pre><span class="pl-c"># Update these to latest</span>
<span class="pl-c1">RULES_HUGO_COMMIT</span> <span class="pl-c1">=</span> <span class="pl-s">"..."</span>
<span class="pl-v">RULES_HUGO_SHA256</span> <span class="pl-c1">=</span> <span class="pl-s">"..."</span>

<span class="pl-en">http_archive</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"build_stack_rules_hugo"</span>,
    <span class="pl-s1">url</span> <span class="pl-c1">=</span> <span class="pl-s">"https://github.com/stackb/rules_hugo/archive/%s.zip"</span> <span class="pl-c1">%</span> <span class="pl-c1">RULES_HUGO_COMMIT</span>,
    <span class="pl-s1">sha256</span> <span class="pl-c1">=</span> <span class="pl-v">RULES_HUGO_SHA256</span>,
    <span class="pl-s1">strip_prefix</span> <span class="pl-c1">=</span> <span class="pl-s">"rules_hugo-%s"</span> <span class="pl-c1">%</span> <span class="pl-c1">RULES_HUGO_COMMIT</span>
)

<span class="pl-en">load</span>(<span class="pl-s">"@build_stack_rules_hugo//hugo:rules.bzl"</span>, <span class="pl-s">"hugo_repository"</span>, <span class="pl-s">"github_hugo_theme"</span>)

<span class="pl-c">#</span>
<span class="pl-c"># Load hugo binary itself</span>
<span class="pl-c">#</span>
<span class="pl-c"># Optionally, load a specific version of Hugo, with the 'version' argument</span>
<span class="pl-en">hugo_repository</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"hugo"</span>,
)

<span class="pl-c">#</span>
<span class="pl-c"># This makes a filegroup target "@com_github_yihui_hugo_xmin//:files"</span>
<span class="pl-c"># available to your build files</span>
<span class="pl-c">#</span>
<span class="pl-en">github_hugo_theme</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"com_github_yihui_hugo_xmin"</span>,
    <span class="pl-s1">owner</span> <span class="pl-c1">=</span> <span class="pl-s">"yihui"</span>,
    <span class="pl-s1">repo</span> <span class="pl-c1">=</span> <span class="pl-s">"hugo-xmin"</span>,
    <span class="pl-s1">commit</span> <span class="pl-c1">=</span> <span class="pl-s">"c14ca049d0dd60386264ea68c91d8495809cc4c6"</span>,
)

<span class="pl-c">#</span>
<span class="pl-c"># This creates a filegroup target from a released archive from GitHub</span>
<span class="pl-c"># this is useful when a theme uses compiled / aggregated sources NOT found</span>
<span class="pl-c"># in a source root.</span>
<span class="pl-c">#</span>
<span class="pl-en">http_archive</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"com_github_thegeeklab_hugo_geekdoc"</span>,
    <span class="pl-s1">url</span> <span class="pl-c1">=</span> <span class="pl-s">"https://github.com/thegeeklab/hugo-geekdoc/releases/download/v0.34.2/hugo-geekdoc.tar.gz"</span>,
    <span class="pl-s1">sha256</span> <span class="pl-c1">=</span> <span class="pl-s">"7fdd57f7d4450325a778629021c0fff5531dc8475de6c4ec70ab07e9484d400e"</span>,
    <span class="pl-s1">build_file_content</span><span class="pl-c1">=</span><span class="pl-s">"""</span>
<span class="pl-s">filegroup(</span>
<span class="pl-s">    name = "files",</span>
<span class="pl-s">    srcs = glob(["**"]),</span>
<span class="pl-s">    visibility = ["//visibility:public"]</span>
<span class="pl-s">)</span>
<span class="pl-s">    """</span>
)</pre></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Declare a hugo_site with a GitHub repository theme in your BUILD file</h3><a id="user-content-declare-a-hugo_site-with-a-github-repository-theme-in-your-build-file" class="anchor" aria-label="Permalink: Declare a hugo_site with a GitHub repository theme in your BUILD file" href="#declare-a-hugo_site-with-a-github-repository-theme-in-your-build-file"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@build_stack_rules_hugo//hugo:rules.bzl&quot;, &quot;hugo_site&quot;, &quot;hugo_theme&quot;, &quot;hugo_serve&quot;)

# Declare a theme 'xmin'.  In this case the `name` and
# `theme_name` are identical, so the `theme_name` could be omitted in this case.
hugo_theme(
    name = &quot;xmin&quot;,
    theme_name = &quot;xmin&quot;,
    srcs = [
        &quot;@com_github_yihui_hugo_xmin//:files&quot;,
    ],
)

# Declare a site. Config file is required.
my_site_name = &quot;basic&quot;

hugo_site(
    name = my_site_name,
    config = &quot;config.toml&quot;,
    content = [
        &quot;_index.md&quot;,
        &quot;about.md&quot;,
    ],
    quiet = False,
    theme = &quot;:xmin&quot;,
)

# Run local development server
hugo_serve(
    name = &quot;local_%s&quot; % my_site_name,
    dep = [&quot;:%s&quot; % my_site_name],
)

# Tar it up
pkg_tar(
    name = &quot;%s_tar&quot; % my_site_name,
    srcs = [&quot;:%s&quot; % my_site_name],
)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@build_stack_rules_hugo//hugo:rules.bzl"</span>, <span class="pl-s">"hugo_site"</span>, <span class="pl-s">"hugo_theme"</span>, <span class="pl-s">"hugo_serve"</span>)

<span class="pl-c"># Declare a theme 'xmin'.  In this case the `name` and</span>
<span class="pl-c"># `theme_name` are identical, so the `theme_name` could be omitted in this case.</span>
<span class="pl-en">hugo_theme</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"xmin"</span>,
    <span class="pl-s1">theme_name</span> <span class="pl-c1">=</span> <span class="pl-s">"xmin"</span>,
    <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> [
        <span class="pl-s">"@com_github_yihui_hugo_xmin//:files"</span>,
    ],
)

<span class="pl-c"># Declare a site. Config file is required.</span>
<span class="pl-s1">my_site_name</span> <span class="pl-c1">=</span> <span class="pl-s">"basic"</span>

<span class="pl-en">hugo_site</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s1">my_site_name</span>,
    <span class="pl-s1">config</span> <span class="pl-c1">=</span> <span class="pl-s">"config.toml"</span>,
    <span class="pl-s1">content</span> <span class="pl-c1">=</span> [
        <span class="pl-s">"_index.md"</span>,
        <span class="pl-s">"about.md"</span>,
    ],
    <span class="pl-s1">quiet</span> <span class="pl-c1">=</span> <span class="pl-c1">False</span>,
    <span class="pl-s1">theme</span> <span class="pl-c1">=</span> <span class="pl-s">":xmin"</span>,
)

<span class="pl-c"># Run local development server</span>
<span class="pl-en">hugo_serve</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"local_%s"</span> <span class="pl-c1">%</span> <span class="pl-s1">my_site_name</span>,
    <span class="pl-s1">dep</span> <span class="pl-c1">=</span> [<span class="pl-s">":%s"</span> <span class="pl-c1">%</span> <span class="pl-s1">my_site_name</span>],
)

<span class="pl-c"># Tar it up</span>
<span class="pl-en">pkg_tar</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"%s_tar"</span> <span class="pl-c1">%</span> <span class="pl-s1">my_site_name</span>,
    <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> [<span class="pl-s">":%s"</span> <span class="pl-c1">%</span> <span class="pl-s1">my_site_name</span>],
)</pre></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Declare a hugo_site with a GitHub released archive theme in your BUILD file</h3><a id="user-content-declare-a-hugo_site-with-a-github-released-archive-theme-in-your-build-file" class="anchor" aria-label="Permalink: Declare a hugo_site with a GitHub released archive theme in your BUILD file" href="#declare-a-hugo_site-with-a-github-released-archive-theme-in-your-build-file"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@build_stack_rules_hugo//hugo:rules.bzl&quot;, &quot;hugo_site&quot;, &quot;hugo_theme&quot;, &quot;hugo_serve&quot;)

hugo_theme(
    name = &quot;hugo_theme_geekdoc&quot;,
    theme_name = &quot;hugo-geekdoc&quot;,
    srcs = [
        &quot;@com_github_thegeeklab_hugo_geekdoc//:files&quot;,
    ],
)

# Note, here we are using the config_dir attribute to support multi-lingual configurations.
hugo_site(
    name = &quot;site_complex&quot;,
    config_dir = glob([&quot;config/**&quot;]),
    content = glob([&quot;content/**&quot;]),
    data = glob([&quot;data/**&quot;]),
    quiet = False,
    theme = &quot;:hugo_theme_geekdoc&quot;,
)

# Run local development server
hugo_serve(
    name = &quot;serve&quot;,
    dep = [&quot;:site_complex&quot;],
)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@build_stack_rules_hugo//hugo:rules.bzl"</span>, <span class="pl-s">"hugo_site"</span>, <span class="pl-s">"hugo_theme"</span>, <span class="pl-s">"hugo_serve"</span>)

<span class="pl-en">hugo_theme</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"hugo_theme_geekdoc"</span>,
    <span class="pl-s1">theme_name</span> <span class="pl-c1">=</span> <span class="pl-s">"hugo-geekdoc"</span>,
    <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> [
        <span class="pl-s">"@com_github_thegeeklab_hugo_geekdoc//:files"</span>,
    ],
)

<span class="pl-c"># Note, here we are using the config_dir attribute to support multi-lingual configurations.</span>
<span class="pl-en">hugo_site</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"site_complex"</span>,
    <span class="pl-s1">config_dir</span> <span class="pl-c1">=</span> <span class="pl-en">glob</span>([<span class="pl-s">"config/**"</span>]),
    <span class="pl-s1">content</span> <span class="pl-c1">=</span> <span class="pl-en">glob</span>([<span class="pl-s">"content/**"</span>]),
    <span class="pl-s1">data</span> <span class="pl-c1">=</span> <span class="pl-en">glob</span>([<span class="pl-s">"data/**"</span>]),
    <span class="pl-s1">quiet</span> <span class="pl-c1">=</span> <span class="pl-c1">False</span>,
    <span class="pl-s1">theme</span> <span class="pl-c1">=</span> <span class="pl-s">":hugo_theme_geekdoc"</span>,
)

<span class="pl-c"># Run local development server</span>
<span class="pl-en">hugo_serve</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"serve"</span>,
    <span class="pl-s1">dep</span> <span class="pl-c1">=</span> [<span class="pl-s">":site_complex"</span>],
)</pre></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Previewing the site</h3><a id="user-content-previewing-the-site" class="anchor" aria-label="Permalink: Previewing the site" href="#previewing-the-site"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Execute the following command:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="bazel run //site_complex:serve"><pre>bazel run //site_complex:serve</pre></div>
<p dir="auto">Then open your browser: <a href="http://localhost:1313" rel="nofollow">here</a></p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Build the site</h3><a id="user-content-build-the-site" class="anchor" aria-label="Permalink: Build the site" href="#build-the-site"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The <code>hugo_site</code> target emits the output in the <code>bazel-bin</code> directory.</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="$ bazel build :basic
[...]
Target //:basic up-to-date:
  bazel-bin/basic
[...]"><pre>$ bazel build :basic
[...]
Target //:basic up-to-date:
  bazel-bin/basic
[...]</pre></div>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="$ tree bazel-bin/basic
bazel-bin/basic
├── 404.html
├── about
│   └── index.html
[...]"><pre>$ tree bazel-bin/basic
bazel-bin/basic
├── 404.html
├── about
│   └── index.html
[...]</pre></div>
<p dir="auto">The <code>pkg_tar</code> target emits a <code>%{name}_tar.tar</code> file containing all the Hugo output files.</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="$ bazel build :basic_tar
[...]
Target //:basic up-to-date:
  bazel-bin/basic_tar.tar"><pre>$ bazel build :basic_tar
[...]
Target //:basic up-to-date:
  bazel-bin/basic_tar.tar</pre></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">End</h2><a id="user-content-end" class="anchor" aria-label="Permalink: End" href="#end"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">See source code for details about additional rule attributes / parameters.</p>
</article></div>