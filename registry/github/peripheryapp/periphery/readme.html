<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 align="center" class="heading-element" dir="auto">
  <a target="_blank" rel="noopener noreferrer" href="assets/logo.png"><img src="assets/logo.png" alt="Periphery" height="60" style="max-width: 100%;"></a>
  <br>
  Periphery
</h1><a id="user-content-------periphery" class="anchor" aria-label="Permalink: 
  Periphery
" href="#------periphery"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h4 align="center" class="heading-element" dir="auto">A tool to identify unused code in Swift projects.</h4><a id="user-content-a-tool-to-identify-unused-code-in-swift-projects" class="anchor" aria-label="Permalink: A tool to identify unused code in Swift projects." href="#a-tool-to-identify-unused-code-in-swift-projects"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p align="center" dir="auto"><q><i>Now I am become Delete, the destroyer of codes.</i></q></p>
<p align="center" dir="auto">
<a href="https://github.com/peripheryapp/periphery/releases/latest">
<img src="https://camo.githubusercontent.com/c5b97b628cbcf5762d061aca251265875b1c377f8526af0cca4b67655d2ad363/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f72656c656173652f7065726970686572796170702f7065726970686572792e7376673f636f6c6f723d303038444646" data-canonical-src="https://img.shields.io/github/release/peripheryapp/periphery.svg?color=008DFF" style="max-width: 100%;"></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/ffcac7a33768d27542f0860df6b96528dbbf52895f566e90e83120d950e68b55/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f706c6174666f726d2d6d61634f532532307c2532304c696e75782d303038444646"><img src="https://camo.githubusercontent.com/ffcac7a33768d27542f0860df6b96528dbbf52895f566e90e83120d950e68b55/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f706c6174666f726d2d6d61634f532532307c2532304c696e75782d303038444646" data-canonical-src="https://img.shields.io/badge/platform-macOS%20|%20Linux-008DFF" style="max-width: 100%;"></a>
<a href="#sponsors-">
<img src="https://camo.githubusercontent.com/f1d54a7552dce8bc6c20d94525ae2fc330de8be912a803a7956edf2ae87b0f99/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73706f6e736f72732f7065726970686572796170703f6c6f676f3d67697468756273706f6e736f727326636f6c6f723d646236316132" data-canonical-src="https://img.shields.io/github/sponsors/peripheryapp?logo=githubsponsors&amp;color=db61a2" style="max-width: 100%;">
</a>
<br>
<br>
</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Contents</h2><a id="user-content-contents" class="anchor" aria-label="Permalink: Contents" href="#contents"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><a href="#installation">Installation</a></li>
<li><a href="#how-to-use">How To Use</a></li>
<li><a href="#analysis">Analysis</a>
<ul dir="auto">
<li><a href="#function-parameters">Function Parameters</a></li>
<li><a href="#protocols-1">Protocols</a></li>
<li><a href="#enumerations">Enumerations</a></li>
<li><a href="#assign-only-properties">Assign-only Properties</a></li>
<li><a href="#redundant-public-accessibility">Redundant Public Accessibility</a></li>
<li><a href="#unused-imports">Unused Imports</a></li>
<li><a href="#objective-c">Objective-C</a></li>
<li><a href="#codable">Codable</a></li>
<li><a href="#xctestcase">XCTestCase</a></li>
<li><a href="#interface-builder">Interface Builder</a></li>
</ul>
</li>
<li><a href="#comment-commands">Comment Commands</a></li>
<li><a href="#xcode-integration">Xcode Integration</a></li>
<li><a href="#excluding-files">Excluding Files</a></li>
<li><a href="#continuous-integration">Continuous Integration</a></li>
<li><a href="#build-systems">Build Systems</a></li>
<li><a href="#platforms">Platforms</a></li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
<li><a href="#known-bugs">Known Bugs</a></li>
<li><a href="#sponsors-">Sponsors</a> <a target="_blank" rel="noopener noreferrer" href="assets/sponsor.svg"><img src="assets/sponsor.svg" alt="Sponsors" style="max-width: 100%;"></a></li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Installation</h2><a id="user-content-installation" class="anchor" aria-label="Permalink: Installation" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto"><a href="https://brew.sh/" rel="nofollow">Homebrew</a></h3><a id="user-content-homebrew" class="anchor" aria-label="Permalink: Homebrew" href="#homebrew"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="brew install periphery"><pre>brew install periphery</pre></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto"><a href="https://github.com/yonaskolb/mint">Mint</a></h3><a id="user-content-mint" class="anchor" aria-label="Permalink: Mint" href="#mint"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="mint install peripheryapp/periphery"><pre>mint install peripheryapp/periphery</pre></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto"><a href="https://bazel.build/" rel="nofollow">Bazel</a></h3><a id="user-content-bazel" class="anchor" aria-label="Permalink: Bazel" href="#bazel"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="bazel_dep(name = &quot;periphery&quot;, version = &quot;&lt;version&gt;&quot;, dev_dependency = True)
use_repo(use_extension(&quot;@periphery//bazel:generated.bzl&quot;, &quot;generated&quot;), &quot;periphery_generated&quot;)"><pre><span class="pl-en">bazel_dep</span>(<span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"periphery"</span>, <span class="pl-s1">version</span> <span class="pl-c1">=</span> <span class="pl-s">"&lt;version&gt;"</span>, <span class="pl-s1">dev_dependency</span> <span class="pl-c1">=</span> <span class="pl-c1">True</span>)
<span class="pl-en">use_repo</span>(<span class="pl-en">use_extension</span>(<span class="pl-s">"@periphery//bazel:generated.bzl"</span>, <span class="pl-s">"generated"</span>), <span class="pl-s">"periphery_generated"</span>)</pre></div>
<p dir="auto">See <a href="#build-systems">Bazel</a> below for usage instructions.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">How To Use</h2><a id="user-content-how-to-use" class="anchor" aria-label="Permalink: How To Use" href="#how-to-use"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">The <code>scan</code> Command</h3><a id="user-content-the-scan-command" class="anchor" aria-label="Permalink: The scan Command" href="#the-scan-command"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The scan command is Periphery's primary function. To begin a guided setup, change to your project directory and run:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="periphery scan --setup"><pre>periphery scan --setup</pre></div>
<p dir="auto">The guided setup will detect your project type and configure a few options. After answering a few questions, Periphery will print out the full scan command and execute it.</p>
<p dir="auto">The guided setup is only intended for introductory purposes, once you are familiar with Periphery you can try some more advanced options, all of which can be seen with <code>periphery help scan</code>.</p>
<p dir="auto">To get the most from Periphery, it’s important to understand how it works. Periphery first builds your project; it does this to generate the “index store”. The index store contains detailed information about the declarations (class, struct, func, etc.) in your project and their references to other declarations. Using this store, Periphery builds an in-memory graph of the relational structure of your project, supplementing it with additional information obtained by parsing each source file. Next, the graph is mutated to make it more suitable for detecting unused code, e.g. marking your project’s entry points. Finally, the graph is traversed from its roots to identify unreferenced declarations.</p>
<blockquote>
<p dir="auto"><strong>Tip</strong></p>
<p dir="auto">The index store only contains information about source files in the build targets compiled during the build phase. If a given class is only referenced in a source file that was not compiled, then Periphery will identify the class as unused. It’s important to ensure you build all the targets you expect to contain references. For an Xcode project, this is controlled using the <code>-—schemes</code> option. For a Swift package, all targets are built automatically.</p>
</blockquote>
<p dir="auto">If your project consists of one or more standalone frameworks that do not also contain some kind of application that consumes their interfaces, you need to tell Periphery to assume that all public declarations are used with the <code>--retain-public</code> option.</p>
<p dir="auto">For projects that are mixed Objective-C &amp; Swift, it's highly recommended you <a href="#objective-c">read about the implications</a> this can have on your results.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Configuration</h3><a id="user-content-configuration" class="anchor" aria-label="Permalink: Configuration" href="#configuration"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Once you've settled upon the appropriate options for your project, you may wish to persist them in a YAML configuration file. The simplest way to achieve this is to run Periphery with the <code>--verbose</code> option. Near the beginning of the output you will see the <code>[configuration:begin]</code> section with your configuration formatted as YAML below. Copy &amp; paste the configuration into <code>.periphery.yml</code> in the root of your project folder. You can now simply run <code>periphery scan</code> and the YAML configuration will be used.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Analysis</h2><a id="user-content-analysis" class="anchor" aria-label="Permalink: Analysis" href="#analysis"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The goal of Periphery is to report instances of unused <em>declarations</em>. A declaration is a <code>class</code>, <code>struct</code>, <code>protocol</code>, <code>function</code>, <code>property</code>, <code>constructor</code>, <code>enum</code>, <code>typealias</code>, <code>associatedtype</code>, etc. As you'd expect, Periphery can identify simple unreferenced declarations, e.g. a <code>class</code> that is no longer used anywhere in your codebase.</p>
<p dir="auto">Periphery can also identify more advanced instances of unused code. The following section explains these in detail.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Function Parameters</h3><a id="user-content-function-parameters" class="anchor" aria-label="Permalink: Function Parameters" href="#function-parameters"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Periphery can identify unused function parameters. Instances of unused parameters can also be identified in protocols and their conforming declarations, as well as parameters in overridden methods. Both of these scenarios are explained further below.</p>
<div class="markdown-heading" dir="auto"><h4 class="heading-element" dir="auto">Protocols</h4><a id="user-content-protocols" class="anchor" aria-label="Permalink: Protocols" href="#protocols"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">An unused parameter of a protocol function will only be reported as unused if the parameter is also unused in all implementations.</p>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="protocol Greeter {
    func greet(name: String)
    func farewell(name: String) // 'name' is unused
}

class InformalGreeter: Greeter {
    func greet(name: String) {
        print(&quot;Sup &quot; + name + &quot;.&quot;)
    }

    func farewell(name: String) { // 'name' is unused
      print(&quot;Cya.&quot;)
    }
}"><pre><span class="pl-k">protocol</span> <span class="pl-smi">Greeter</span> <span class="pl-kos">{</span>
    <span class="pl-en">func</span> greet<span class="pl-kos">(</span>name<span class="pl-kos">:</span> <span class="pl-smi">String</span><span class="pl-kos">)</span>
    <span class="pl-en">func</span> farewell<span class="pl-kos">(</span>name<span class="pl-kos">:</span> <span class="pl-smi">String</span><span class="pl-kos">)</span> // 'name' is unused
<span class="pl-kos">}</span>

<span class="pl-k">class</span> <span class="pl-smi">InformalGreeter</span><span class="pl-kos">:</span> <span class="pl-smi">Greeter</span> <span class="pl-kos">{</span>
    <span class="pl-en">func</span> greet<span class="pl-kos">(</span>name<span class="pl-kos">:</span> <span class="pl-smi">String</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-en">print</span><span class="pl-kos">(</span><span class="pl-s">"</span><span class="pl-s">Sup </span><span class="pl-s">"</span> <span class="pl-c1">+</span> name <span class="pl-c1">+</span> <span class="pl-s">"</span><span class="pl-s">.</span><span class="pl-s">"</span><span class="pl-kos">)</span>
    <span class="pl-kos">}</span>

    <span class="pl-en">func</span> farewell<span class="pl-kos">(</span>name<span class="pl-kos">:</span> <span class="pl-smi">String</span><span class="pl-kos">)</span> <span class="pl-kos">{</span> // 'name' is unused
      <span class="pl-en">print</span><span class="pl-kos">(</span><span class="pl-s">"</span><span class="pl-s">Cya.</span><span class="pl-s">"</span><span class="pl-kos">)</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span></pre></div>
<blockquote>
<p dir="auto"><strong>Tip</strong></p>
<p dir="auto">You can ignore all unused parameters from protocols and conforming functions with the <code>--retain-unused-protocol-func-params</code> option.</p>
</blockquote>
<div class="markdown-heading" dir="auto"><h4 class="heading-element" dir="auto">Overrides</h4><a id="user-content-overrides" class="anchor" aria-label="Permalink: Overrides" href="#overrides"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Similar to protocols, parameters of overridden functions are only reported as unused if they're also unused in the base function and all overriding functions.</p>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="class BaseGreeter {
    func greet(name: String) {
        print(&quot;Hello.&quot;)
    }

    func farewell(name: String) { // 'name' is unused
        print(&quot;Goodbye.&quot;)
    }
}

class InformalGreeter: BaseGreeter {
    override func greet(name: String) {
        print(&quot;Sup &quot; + name + &quot;.&quot;)
    }

    override func farewell(name: String) { // 'name' is unused
        print(&quot;Cya.&quot;)
    }
}"><pre><span class="pl-k">class</span> <span class="pl-smi">BaseGreeter</span> <span class="pl-kos">{</span>
    <span class="pl-en">func</span> greet<span class="pl-kos">(</span>name<span class="pl-kos">:</span> <span class="pl-smi">String</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-en">print</span><span class="pl-kos">(</span><span class="pl-s">"</span><span class="pl-s">Hello.</span><span class="pl-s">"</span><span class="pl-kos">)</span>
    <span class="pl-kos">}</span>

    <span class="pl-en">func</span> farewell<span class="pl-kos">(</span>name<span class="pl-kos">:</span> <span class="pl-smi">String</span><span class="pl-kos">)</span> <span class="pl-kos">{</span> // 'name' is unused
        <span class="pl-en">print</span><span class="pl-kos">(</span><span class="pl-s">"</span><span class="pl-s">Goodbye.</span><span class="pl-s">"</span><span class="pl-kos">)</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span>

<span class="pl-k">class</span> <span class="pl-smi">InformalGreeter</span><span class="pl-kos">:</span> <span class="pl-smi">BaseGreeter</span> <span class="pl-kos">{</span>
    <span class="pl-k"><span class="pl-k">override</span></span> <span class="pl-en">func</span> greet<span class="pl-kos">(</span>name<span class="pl-kos">:</span> <span class="pl-smi">String</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-en">print</span><span class="pl-kos">(</span><span class="pl-s">"</span><span class="pl-s">Sup </span><span class="pl-s">"</span> <span class="pl-c1">+</span> name <span class="pl-c1">+</span> <span class="pl-s">"</span><span class="pl-s">.</span><span class="pl-s">"</span><span class="pl-kos">)</span>
    <span class="pl-kos">}</span>

    <span class="pl-k"><span class="pl-k">override</span></span> <span class="pl-en">func</span> farewell<span class="pl-kos">(</span>name<span class="pl-kos">:</span> <span class="pl-smi">String</span><span class="pl-kos">)</span> <span class="pl-kos">{</span> // 'name' is unused
        <span class="pl-en">print</span><span class="pl-kos">(</span><span class="pl-s">"</span><span class="pl-s">Cya.</span><span class="pl-s">"</span><span class="pl-kos">)</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span></pre></div>
<div class="markdown-heading" dir="auto"><h4 class="heading-element" dir="auto">Foreign Protocols &amp; Classes</h4><a id="user-content-foreign-protocols--classes" class="anchor" aria-label="Permalink: Foreign Protocols &amp; Classes" href="#foreign-protocols--classes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Unused parameters of protocols or classes defined in foreign modules (e.g. Foundation) are always ignored since you do not have access to modify the base function declaration.</p>
<div class="markdown-heading" dir="auto"><h4 class="heading-element" dir="auto">fatalError Functions</h4><a id="user-content-fatalerror-functions" class="anchor" aria-label="Permalink: fatalError Functions" href="#fatalerror-functions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Unused parameters of functions that simply call <code>fatalError</code> are also ignored. Such functions are often unimplemented required initializers in subclasses.</p>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="class Base {
    let param: String

    required init(param: String) {
        self.param = param
    }
}

class Subclass: Base {
    init(custom: String) {
        super.init(param: custom)
    }

    required init(param: String) {
        fatalError(&quot;init(param:) has not been implemented&quot;)
    }
}"><pre><span class="pl-k">class</span> <span class="pl-smi">Base</span> <span class="pl-kos">{</span>
    <span class="pl-k">let</span> <span class="pl-s1"><span class="pl-c1">param</span></span><span class="pl-kos">:</span> <span class="pl-smi">String</span>

    <span class="pl-k"><span class="pl-k">required</span></span> <span class="pl-v">init</span><span class="pl-kos">(</span>param<span class="pl-kos">:</span> <span class="pl-smi">String</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-smi">self</span><span class="pl-kos">.</span>param <span class="pl-c1">=</span> param
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span>

<span class="pl-k">class</span> <span class="pl-smi">Subclass</span><span class="pl-kos">:</span> <span class="pl-smi">Base</span> <span class="pl-kos">{</span>
    <span class="pl-v">init</span><span class="pl-kos">(</span>custom<span class="pl-kos">:</span> <span class="pl-smi">String</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        super<span class="pl-kos">.</span><span class="pl-en">init</span><span class="pl-kos">(</span>param<span class="pl-kos">:</span> custom<span class="pl-kos">)</span>
    <span class="pl-kos">}</span>

    <span class="pl-k"><span class="pl-k">required</span></span> <span class="pl-v">init</span><span class="pl-kos">(</span>param<span class="pl-kos">:</span> <span class="pl-smi">String</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-en">fatalError</span><span class="pl-kos">(</span><span class="pl-s">"</span><span class="pl-s">init(param:) has not been implemented</span><span class="pl-s">"</span><span class="pl-kos">)</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span></pre></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Protocols</h3><a id="user-content-protocols-1" class="anchor" aria-label="Permalink: Protocols" href="#protocols-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">A protocol which is conformed to by an object is not truly used unless it's also used as an existential type, or to specialize a generic method/class. Periphery is able to identify such redundant protocols whether they are conformed to by one, or even multiple objects.</p>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="protocol MyProtocol { // 'MyProtocol' is redundant
    func someMethod()
}

class MyClass1: MyProtocol { // 'MyProtocol' conformance is redundant
    func someMethod() {
        print(&quot;Hello from MyClass1!&quot;)
    }
}

class MyClass2: MyProtocol { // 'MyProtocol' conformance is redundant
    func someMethod() {
        print(&quot;Hello from MyClass2!&quot;)
    }
}

let myClass1 = MyClass1()
myClass1.someMethod()

let myClass2 = MyClass2()
myClass2.someMethod()"><pre><span class="pl-k">protocol</span> <span class="pl-smi">MyProtocol</span> <span class="pl-kos">{</span> // 'MyProtocol' is redundant
    <span class="pl-en">func</span> someMethod<span class="pl-kos">(</span><span class="pl-kos">)</span>
<span class="pl-kos">}</span>

<span class="pl-k">class</span> <span class="pl-smi">MyClass1</span><span class="pl-kos">:</span> <span class="pl-smi">MyProtocol</span> <span class="pl-kos">{</span> // 'MyProtocol' conformance is redundant
    <span class="pl-en">func</span> someMethod<span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-en">print</span><span class="pl-kos">(</span><span class="pl-s">"</span><span class="pl-s">Hello from MyClass1!</span><span class="pl-s">"</span><span class="pl-kos">)</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span>

<span class="pl-k">class</span> <span class="pl-smi">MyClass2</span><span class="pl-kos">:</span> <span class="pl-smi">MyProtocol</span> <span class="pl-kos">{</span> // 'MyProtocol' conformance is redundant
    <span class="pl-en">func</span> someMethod<span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-en">print</span><span class="pl-kos">(</span><span class="pl-s">"</span><span class="pl-s">Hello from MyClass2!</span><span class="pl-s">"</span><span class="pl-kos">)</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span>

<span class="pl-k">let</span> <span class="pl-s1">myClass1</span> <span class="pl-c1">=</span> <span class="pl-en">MyClass1</span><span class="pl-kos">(</span><span class="pl-kos">)</span>
myClass1<span class="pl-kos">.</span><span class="pl-en">someMethod</span><span class="pl-kos">(</span><span class="pl-kos">)</span>

<span class="pl-k">let</span> <span class="pl-s1">myClass2</span> <span class="pl-c1">=</span> <span class="pl-en">MyClass2</span><span class="pl-kos">(</span><span class="pl-kos">)</span>
myClass2<span class="pl-kos">.</span><span class="pl-en">someMethod</span><span class="pl-kos">(</span><span class="pl-kos">)</span></pre></div>
<p dir="auto">Here we can see that despite both implementations of <code>someMethod</code> are called, at no point does an object take on the type of <code>MyProtocol</code>. Therefore the protocol itself is redundant, and there's no benefit from <code>MyClass1</code> or <code>MyClass2</code> conforming to it. We can remove <code>MyProtocol</code> along with each redundant conformance, and just keep <code>someMethod</code> in each class.</p>
<p dir="auto">Just like a normal method or property of a object, individual properties and methods declared by your protocol can also be identified as unused.</p>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="protocol MyProtocol {
    var usedProperty: String { get }
    var unusedProperty: String { get } // 'unusedProperty' is unused
}

class MyConformingClass: MyProtocol {
    var usedProperty: String = &quot;used&quot;
    var unusedProperty: String = &quot;unused&quot; // 'unusedProperty' is unused
}

class MyClass {
    let conformingClass: MyProtocol

    init() {
        conformingClass = MyConformingClass()
    }

    func perform() {
        print(conformingClass.usedProperty)
    }
}

let myClass = MyClass()
myClass.perform()"><pre><span class="pl-k">protocol</span> <span class="pl-smi">MyProtocol</span> <span class="pl-kos">{</span>
    <span class="pl-s1"><span class="pl-k">var</span> <span class="pl-c1">usedProperty</span></span><span class="pl-kos">:</span> <span class="pl-smi">String</span> <span class="pl-kos">{</span> <span class="pl-k">get</span> <span class="pl-kos">}</span>
    <span class="pl-s1"><span class="pl-k">var</span> <span class="pl-c1">unusedProperty</span></span><span class="pl-kos">:</span> <span class="pl-smi">String</span> <span class="pl-kos">{</span> <span class="pl-k">get</span> <span class="pl-kos">}</span> // 'unusedProperty' is unused
<span class="pl-kos">}</span>

<span class="pl-k">class</span> <span class="pl-smi">MyConformingClass</span><span class="pl-kos">:</span> <span class="pl-smi">MyProtocol</span> <span class="pl-kos">{</span>
    <span class="pl-k">var</span> <span class="pl-s1"><span class="pl-c1">usedProperty</span></span><span class="pl-kos">:</span> <span class="pl-smi">String</span> <span class="pl-c1">=</span> <span class="pl-s">"</span><span class="pl-s">used</span><span class="pl-s">"</span>
    <span class="pl-k">var</span> <span class="pl-s1"><span class="pl-c1">unusedProperty</span></span><span class="pl-kos">:</span> <span class="pl-smi">String</span> <span class="pl-c1">=</span> <span class="pl-s">"</span><span class="pl-s">unused</span><span class="pl-s">"</span> // 'unusedProperty' is unused
<span class="pl-kos">}</span>

<span class="pl-k">class</span> <span class="pl-smi">MyClass</span> <span class="pl-kos">{</span>
    <span class="pl-k">let</span> <span class="pl-s1"><span class="pl-c1">conformingClass</span></span><span class="pl-kos">:</span> <span class="pl-smi">MyProtocol</span>

    <span class="pl-v">init</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        conformingClass <span class="pl-c1">=</span> <span class="pl-en">MyConformingClass</span><span class="pl-kos">(</span><span class="pl-kos">)</span>
    <span class="pl-kos">}</span>

    <span class="pl-en">func</span> perform<span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-en">print</span><span class="pl-kos">(</span>conformingClass<span class="pl-kos">.</span>usedProperty<span class="pl-kos">)</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span>

<span class="pl-k">let</span> <span class="pl-s1">myClass</span> <span class="pl-c1">=</span> <span class="pl-en">MyClass</span><span class="pl-kos">(</span><span class="pl-kos">)</span>
myClass<span class="pl-kos">.</span><span class="pl-en">perform</span><span class="pl-kos">(</span><span class="pl-kos">)</span></pre></div>
<p dir="auto">Here we can see that <code>MyProtocol</code> is itself used, and cannot be removed. However, since <code>unusedProperty</code> is never called on <code>MyConformingClass</code>, Periphery can identify that the declaration of <code>unusedProperty</code> in <code>MyProtocol</code> is also unused and can be removed along with the unused implementation of <code>unusedProperty</code>.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Enumerations</h3><a id="user-content-enumerations" class="anchor" aria-label="Permalink: Enumerations" href="#enumerations"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Along with being able to identify unused enumerations, Periphery can also identify individual unused enum cases. Plain enums that are not raw representable, i.e. that <em>don't</em> have a <code>String</code>, <code>Character</code>, <code>Int</code>, or floating-point value type can be reliably identified. However, enumerations that <em>do</em> have a raw value type can be dynamic, and therefore must be assumed to be used.</p>
<p dir="auto">Let's clear this up with a quick example:</p>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="enum MyEnum: String {
    case myCase
}

func someFunction(value: String) {
    if let myEnum = MyEnum(rawValue: value) {
        somethingImportant(myEnum)
    }
}"><pre><span class="pl-k">enum</span> <span class="pl-smi">MyEnum</span><span class="pl-kos">:</span> <span class="pl-smi">String</span> <span class="pl-kos">{</span>
    <span class="pl-k">case</span> myCase
<span class="pl-kos">}</span>

<span class="pl-en">func</span> someFunction<span class="pl-kos">(</span>value<span class="pl-kos">:</span> <span class="pl-smi">String</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-k">if</span> <span class="pl-k">let</span> myEnum <span class="pl-c1">=</span> <span class="pl-en">MyEnum</span><span class="pl-kos">(</span>rawValue<span class="pl-kos">:</span> value<span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-en">somethingImportant</span><span class="pl-kos">(</span>myEnum<span class="pl-kos">)</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span></pre></div>
<p dir="auto">There's no direct reference to the <code>myCase</code> case, so it's reasonable to expect it <em>might</em> no longer be needed, however, if it were removed we can see that <code>somethingImportant</code> would never be called if <code>someFunction</code> were passed the value of <code>"myCase"</code>.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Assign-only Properties</h3><a id="user-content-assign-only-properties" class="anchor" aria-label="Permalink: Assign-only Properties" href="#assign-only-properties"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Properties that are assigned but never used are identified as such, e.g:</p>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="class MyClass {
    var assignOnlyProperty: String // 'assignOnlyProperty' is assigned, but never used

    init(value: String) {
        self.assignOnlyProperty = value
    }
}"><pre><span class="pl-k">class</span> <span class="pl-smi">MyClass</span> <span class="pl-kos">{</span>
    <span class="pl-k">var</span> <span class="pl-s1"><span class="pl-c1">assignOnlyProperty</span></span><span class="pl-kos">:</span> <span class="pl-smi">String</span> // 'assignOnlyProperty' is assigned, but never used

    <span class="pl-v">init</span><span class="pl-kos">(</span>value<span class="pl-kos">:</span> <span class="pl-smi">String</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-smi">self</span><span class="pl-kos">.</span>assignOnlyProperty <span class="pl-c1">=</span> value
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span></pre></div>
<p dir="auto">In some cases this may be the intended behavior, therefore you have a few options available to silence such results:</p>
<ul dir="auto">
<li>Retain individual properties using <a href="#comment-commands">Comment Commands</a>.</li>
<li>Retain all assign-only properties by their type with <code>--retain-assign-only-property-types</code>. Given types must match their exact usage in the property declaration (sans optional question mark), e.g. <code>String</code>, <code>[String]</code>, <code>Set&lt;String&gt;</code>. Periphery is unable to resolve inferred property types, therefore in some instances, you may need to add explicit type annotations to your properties.</li>
<li>Disable assign-only property analysis entirely with <code>--retain-assign-only-properties</code>.</li>
</ul>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Redundant Public Accessibility</h3><a id="user-content-redundant-public-accessibility" class="anchor" aria-label="Permalink: Redundant Public Accessibility" href="#redundant-public-accessibility"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Declarations that are marked <code>public</code> yet are not referenced from outside their home module, are identified as having redundant public accessibility. In this scenario, the <code>public</code> annotation can be removed from the declaration. Removing redundant public accessibility has a couple of benefits:</p>
<ul dir="auto">
<li>It helps reduce the public surface area of your modules.</li>
<li>In <a href="https://github.com/apple/swift/blob/main/docs/OptimizationTips.rst#whole-module-optimizations-wmo">Whole Module Compilation</a> mode, Swift can infer <code>final</code> by <a href="https://github.com/apple/swift/blob/main/docs/OptimizationTips.rst#advice-if-wmo-is-enabled-use-internal-when-a-declaration-does-not-need-to-be-accessed-outside-of-module">automatically discovering</a> all potentially overriding declarations. <code>final</code> classes are <a href="https://github.com/apple/swift/blob/main/docs/OptimizationTips.rst#advice-use-final-when-you-know-the-declaration-does-not-need-to-be-overridden">better optimized</a> by the compiler.</li>
</ul>
<p dir="auto">This analysis can be disabled with <code>--disable-redundant-public-analysis</code>.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Unused Imports</h3><a id="user-content-unused-imports" class="anchor" aria-label="Permalink: Unused Imports" href="#unused-imports"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Periphery can detect unused imports of targets it has scanned, i.e. those specified with the <code>--targets</code> argument. It cannot detect unused imports of other targets because the Swift source files are unavailable and uses of <code>@_exported</code> cannot be observed. <code>@_exported</code> is problematic because it changes the public interface of a target such that the declarations exported by the target are no longer necessarily declared by the imported target. For example, the <code>Foundation</code> target exports <code>Dispatch</code>, among other targets. If any given source file imports <code>Foundation</code> and references <code>DispatchQueue</code> but no other declarations from <code>Foundation</code>, then the <code>Foundation</code> import cannot be removed as it would also make the <code>DispatchQueue</code> type unavailable. To avoid false positives, therefore, Periphery only detects unused imports of targets it has scanned.</p>
<p dir="auto">Periphery will likely produce false positives for targets with mixed Swift and Objective-C, as Periphery cannot scan the Objective-C files. It is recommended therefore to disable unused import detection for projects with a significant amount of Objective-C, or manually exclude the mixed language targets from the results.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Objective-C</h3><a id="user-content-objective-c" class="anchor" aria-label="Permalink: Objective-C" href="#objective-c"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Periphery cannot analyze Objective-C code since types may be dynamically typed.</p>
<p dir="auto">By default, Periphery does not assume that declarations accessible by the Objective-C runtime are in use. If your project is a mix of Swift &amp; Objective-C, you can enable this behavior with the <code>--retain-objc-accessible</code> option. Swift declarations that are accessible by the Objective-C runtime are those that are explicitly annotated with <code>@objc</code> or <code>@objcMembers</code>, and classes that inherit <code>NSObject</code> either directly or indirectly via another class.</p>
<p dir="auto">Alternatively, the <code>--retain-objc-annotated</code> can be used to only retain declarations that are explicitly annotated with <code>@objc</code> or <code>@objcMembers</code>. Types that inherit <code>NSObject</code> are not retained unless they have explicit annotations. This option may uncover more unused code, but with the caveat that some of the results may be incorrect if the declaration is used in Objective-C code. To resolve these incorrect results you must add an <code>@objc</code> annotation to the declaration.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Codable</h3><a id="user-content-codable" class="anchor" aria-label="Permalink: Codable" href="#codable"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Swift synthesizes additional code for <code>Codable</code> types that is not visible to Periphery and can result in false positives for properties not directly referenced from non-synthesized code. If your project contains many such types, you can retain all properties on <code>Codable</code> types with <code>--retain-codable-properties</code>. Alternatively, you can retain properties only on <code>Encodable</code> types with <code>--retain-encodable-properties</code>.</p>
<p dir="auto">If <code>Codable</code> conformance is declared by a protocol in an external module not scanned by Periphery, you can instruct Periphery to identify the protocols as <code>Codable</code> with <code>--external-codable-protocols "ExternalProtocol"</code>.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">XCTestCase</h3><a id="user-content-xctestcase" class="anchor" aria-label="Permalink: XCTestCase" href="#xctestcase"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Any class that inherits <code>XCTestCase</code> is automatically retained along with its test methods. However, when a class inherits <code>XCTestCase</code> indirectly via another class, e.g <code>UnitTestCase</code>, and that class resides in a target that isn't scanned by Periphery, you need to use the <code>--external-test-case-classes UnitTestCase</code> option to instruct Periphery to treat <code>UnitTestCase</code> as an <code>XCTestCase</code> subclass.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Interface Builder</h3><a id="user-content-interface-builder" class="anchor" aria-label="Permalink: Interface Builder" href="#interface-builder"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">If your project contains Interface Builder files (such as storyboards and XIBs), Periphery will take these into account when identifying unused declarations. However, Periphery currently only identifies unused classes. This limitation exists because Periphery does not yet fully parse Interface Builder files (see <a href="https://github.com/peripheryapp/periphery/issues/212" data-hovercard-type="issue" data-hovercard-url="/peripheryapp/periphery/issues/212/hovercard">issue #212</a>). Due to Periphery's design principle of avoiding false positives, it is assumed that if a class is referenced in an Interface Builder file, all of its <code>IBOutlets</code> and <code>IBActions</code> are used, even if they might not be in reality. This approach will be revised to accurately identify unused <code>IBActions</code> and <code>IBOutlets</code> once Periphery gains the capability to parse Interface Builder files.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Comment Commands</h2><a id="user-content-comment-commands" class="anchor" aria-label="Permalink: Comment Commands" href="#comment-commands"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">For whatever reason, you may want to keep some unused code. Source code comment commands can be used to ignore specific declarations and exclude them from the results.</p>
<p dir="auto">An ignore comment command can be placed directly on the line above any declaration to ignore it, and all descendent declarations:</p>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="// periphery:ignore
class MyClass {}"><pre>// periphery:ignore
<span class="pl-k">class</span> <span class="pl-smi">MyClass</span> <span class="pl-kos">{</span><span class="pl-kos">}</span></pre></div>
<p dir="auto">You can also ignore specific unused function parameters:</p>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="// periphery:ignore:parameters unusedOne,unusedTwo
func someFunc(used: String, unusedOne: String, unusedTwo: String) {
    print(used)
}"><pre>// periphery:ignore:parameters unusedOne,unusedTwo
<span class="pl-en">func</span> someFunc<span class="pl-kos">(</span>used<span class="pl-kos">:</span> <span class="pl-smi">String</span><span class="pl-kos">,</span> unusedOne<span class="pl-kos">:</span> <span class="pl-smi">String</span><span class="pl-kos">,</span> unusedTwo<span class="pl-kos">:</span> <span class="pl-smi">String</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-en">print</span><span class="pl-kos">(</span>used<span class="pl-kos">)</span>
<span class="pl-kos">}</span></pre></div>
<p dir="auto">The <code>// periphery:ignore:all</code> command can be placed at the top of the source file to ignore the entire contents of the file. Note that the comment must be placed above any code, including import statements.</p>
<p dir="auto">Comment commands also support trailing comments following a hyphen so that you can include an explanation on the same line:</p>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="// periphery:ignore - explanation of why this is necessary
class MyClass {}"><pre>// periphery:ignore - explanation of why this is necessary
<span class="pl-k">class</span> <span class="pl-smi">MyClass</span> <span class="pl-kos">{</span><span class="pl-kos">}</span></pre></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Xcode Integration</h2><a id="user-content-xcode-integration" class="anchor" aria-label="Permalink: Xcode Integration" href="#xcode-integration"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Before setting up Xcode integration, we highly recommend you first get Periphery working in a terminal, as you will be using the same command via Xcode.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Step 1: Create an Aggregate Target</h3><a id="user-content-step-1-create-an-aggregate-target" class="anchor" aria-label="Permalink: Step 1: Create an Aggregate Target" href="#step-1-create-an-aggregate-target"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Select your project in the Project Navigator and click the + button at the bottom left of the Targets section. Select <strong>Cross-platform</strong> and choose <strong>Aggregate</strong>. Hit Next.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="assets/xcode-integration/1.png"><img src="assets/xcode-integration/1.png" alt="Step 1" style="max-width: 100%;"></a></p>
<p dir="auto">Choose a name for the new target, e.g. "Periphery" or "Unused Code".</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="assets/xcode-integration/2.png"><img src="assets/xcode-integration/2.png" alt="Step 2" style="max-width: 100%;"></a></p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Step 2: Add a Run Script Build Phase</h3><a id="user-content-step-2-add-a-run-script-build-phase" class="anchor" aria-label="Permalink: Step 2: Add a Run Script Build Phase" href="#step-2-add-a-run-script-build-phase"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">In the <strong>Build Phases</strong> section click the + button to add a new Run Script phase.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="assets/xcode-integration/3.png"><img src="assets/xcode-integration/3.png" alt="Step 3" style="max-width: 100%;"></a></p>
<p dir="auto">In the shell script window enter the Periphery command. Be sure to include the <code>--format xcode</code> option.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="assets/xcode-integration/4.png"><img src="assets/xcode-integration/4.png" alt="Step 4" style="max-width: 100%;"></a></p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Step 3: Select &amp; Run</h3><a id="user-content-step-3-select--run" class="anchor" aria-label="Permalink: Step 3: Select &amp; Run" href="#step-3-select--run"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">You're ready to roll. You should now see the new scheme in the dropdown. Select it and hit run.</p>
<blockquote>
<p dir="auto"><strong>Tip</strong></p>
<p dir="auto">If you'd like others on your team to be able to use the scheme, you'll need to mark it as <em>Shared</em>. This can be done by selecting <em>Manage Schemes...</em> and selecting the <em>Shared</em> checkbox next to the new scheme. The scheme definition can now be checked into source control.</p>
</blockquote>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="assets/xcode-integration/5.png"><img src="assets/xcode-integration/5.png" alt="Step 5" style="max-width: 100%;"></a></p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Excluding Files</h2><a id="user-content-excluding-files" class="anchor" aria-label="Permalink: Excluding Files" href="#excluding-files"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Both exclusion options described below accept a Bash v4 style path glob, either absolute or relative to your project directory. You can delimit multiple globs with a space, e.g. <code>--option "Sources/Single.swift" "**/Generated/*.swift" "**/*.{xib,storyboard}"</code>.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Excluding Results</h3><a id="user-content-excluding-results" class="anchor" aria-label="Permalink: Excluding Results" href="#excluding-results"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">To exclude the results from certain files, pass the <code>--report-exclude &lt;globs&gt;</code> option to the <code>scan</code> command.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Excluding Indexed Files</h3><a id="user-content-excluding-indexed-files" class="anchor" aria-label="Permalink: Excluding Indexed Files" href="#excluding-indexed-files"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Excluding files from the indexing phase means that any declarations and references contained within the files will not be seen by Periphery. Periphery will behave as if the files do not exist.</p>
<p dir="auto">To exclude files from being indexed, there are a few options:</p>
<ol dir="auto">
<li>Use <code>--exclude-targets "TargetA" "TargetB"</code> to exclude all source files in the chosen targets.</li>
<li>Use <code>--exclude-tests</code> to exclude all test targets.</li>
<li>Use <code>--index-exclude "file.swift" "path/*.swift"</code> to exclude individual source files.</li>
</ol>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Retaining File Declarations</h3><a id="user-content-retaining-file-declarations" class="anchor" aria-label="Permalink: Retaining File Declarations" href="#retaining-file-declarations"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">To retain all declarations in files, pass the <code>--retain-files &lt;globs&gt;</code> option to the <code>scan</code> command. This option is equivalent to adding a <code>// periphery:ignore:all</code> comment command at the top of each file.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Continuous Integration</h2><a id="user-content-continuous-integration" class="anchor" aria-label="Permalink: Continuous Integration" href="#continuous-integration"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">When integrating Periphery into a CI pipeline, you can potentially skip the build phase if your pipeline has already done so, e.g. to run tests. This can be achieved using the <code>--skip-build</code> option. However, you also need to tell Periphery the location of the index store using <code>--index-store-path</code>. This location is dependent on your project type.</p>
<p dir="auto">Note that when using <code>--skip-build</code> and <code>--index-store-path</code> it's vital that the index store contains data for all of the targets you specify via <code>--targets</code>. For example, if your pipeline previously built the targets 'App' and 'Lib', the index store will only contain data for the files in those targets. You cannot then instruct Periphery to scan additional targets, e.g 'Extension', or 'UnitTests'.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Xcode</h3><a id="user-content-xcode" class="anchor" aria-label="Permalink: Xcode" href="#xcode"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The index store generated by <code>xcodebuild</code> exists in DerivedData at a location dependent on your project, e.g <code>~/Library/Developer/Xcode/DerivedData/YourProject-abc123/Index/DataStore</code>. For Xcode 14 and later, the <code>Index</code> directory can be found as <code>Index.noindex</code>, which suppresses Spotlight indexing.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">SwiftPM</h3><a id="user-content-swiftpm" class="anchor" aria-label="Permalink: SwiftPM" href="#swiftpm"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">By default, Periphery looks for the index store at <code>.build/debug/index/store</code>. Therefore, if you intend to run Periphery directly after calling <code>swift test</code>, you can omit the <code>--index-store-path</code> option and Periphery will use the index store created when the project was built for testing. However, if this isn't the case, then you must provide Periphery the location of the index store with <code>--index-store-path</code>.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Build Systems</h2><a id="user-content-build-systems" class="anchor" aria-label="Permalink: Build Systems" href="#build-systems"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Bazel</h3><a id="user-content-bazel-1" class="anchor" aria-label="Permalink: Bazel" href="#bazel-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="bazel run @periphery -- scan --bazel"><pre>bazel run @periphery -- scan --bazel</pre></div>
<p dir="auto">The <code>--bazel</code> option enables Bazel mode which provides seamless integration with your project. It works by querying your project to identify all top-level targets, generates a hidden implementation of the <a href="https://github.com/peripheryapp/periphery/blob/master/bazel/rules.bzl">scan</a> rule, and then invokes <code>bazel run</code>. You can filter the top-level targets with the <code>-—bazel-filter &lt;value&gt;</code> option, where <code>&lt;value&gt;</code> will be passed as the first argument to Bazel’s <a href="https://bazel.build/query/language#filter" rel="nofollow">filter</a> operator. The generated query can be seen in the console with the <code>-—verbose</code> option.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Other</h3><a id="user-content-other" class="anchor" aria-label="Permalink: Other" href="#other"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Periphery can analyze projects using other build systems, though it cannot drive them automatically like SPM, Xcode and Bazel. Instead, you need to create a configuration file that specifies the location of indexstore and other resource files. The format is as follows:</p>
<div class="highlight highlight-source-json notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="{
    &quot;indexstores&quot;: [
        &quot;path/to/file.indexstore&quot;
    ],
    &quot;test_targets&quot;: [
        &quot;MyTests&quot;
    ],
    &quot;plists&quot;: [
        &quot;path/to/file.plist&quot;
    ],
    &quot;xibs&quot;: [
        &quot;path/to/file.xib&quot;,
        &quot;path/to/file.storyboard&quot;
    ],
    &quot;xcdatamodels&quot;: [
        &quot;path/to/file.xcdatamodel&quot;
    ],
    &quot;xcmappingmodels&quot;: [
        &quot;path/to/file.xcmappingmodel&quot;
    ]
}"><pre>{
    <span class="pl-ent">"indexstores"</span>: [
        <span class="pl-s"><span class="pl-pds">"</span>path/to/file.indexstore<span class="pl-pds">"</span></span>
    ],
    <span class="pl-ent">"test_targets"</span>: [
        <span class="pl-s"><span class="pl-pds">"</span>MyTests<span class="pl-pds">"</span></span>
    ],
    <span class="pl-ent">"plists"</span>: [
        <span class="pl-s"><span class="pl-pds">"</span>path/to/file.plist<span class="pl-pds">"</span></span>
    ],
    <span class="pl-ent">"xibs"</span>: [
        <span class="pl-s"><span class="pl-pds">"</span>path/to/file.xib<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>path/to/file.storyboard<span class="pl-pds">"</span></span>
    ],
    <span class="pl-ent">"xcdatamodels"</span>: [
        <span class="pl-s"><span class="pl-pds">"</span>path/to/file.xcdatamodel<span class="pl-pds">"</span></span>
    ],
    <span class="pl-ent">"xcmappingmodels"</span>: [
        <span class="pl-s"><span class="pl-pds">"</span>path/to/file.xcmappingmodel<span class="pl-pds">"</span></span>
    ]
}</pre></div>
<blockquote>
<p dir="auto"><strong>Tip</strong></p>
<p dir="auto">Relative paths are assumed to be relative to the current directory.</p>
</blockquote>
<p dir="auto">You can then invoke Periphery as follows:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="periphery scan --generic-project-config config.json"><pre>periphery scan --generic-project-config config.json</pre></div>
<blockquote>
<p dir="auto"><strong>Tip</strong></p>
<p dir="auto">Both options support multiple paths.</p>
</blockquote>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Platforms</h2><a id="user-content-platforms" class="anchor" aria-label="Permalink: Platforms" href="#platforms"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Periphery supports both macOS and Linux. macOS supports both Xcode and Swift Package Manager (SPM) projects, whereas only SPM projects are supported on Linux.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Troubleshooting</h2><a id="user-content-troubleshooting" class="anchor" aria-label="Permalink: Troubleshooting" href="#troubleshooting"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Erroneous results in one or more files, such as false positives and incorrect source file locations</h3><a id="user-content-erroneous-results-in-one-or-more-files-such-as-false-positives-and-incorrect-source-file-locations" class="anchor" aria-label="Permalink: Erroneous results in one or more files, such as false positives and incorrect source file locations" href="#erroneous-results-in-one-or-more-files-such-as-false-positives-and-incorrect-source-file-locations"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">It's possible for the index store to become corrupt, or out of sync with the source file. This can happen, for example, if you forcefully terminate (^C) a scan. To rectify this, you can pass the <code>--clean-build</code> flag to the scan command to force removal of existing build artifacts.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Code referenced within a preprocessor macro conditional branch is unused</h3><a id="user-content-code-referenced-within-a-preprocessor-macro-conditional-branch-is-unused" class="anchor" aria-label="Permalink: Code referenced within a preprocessor macro conditional branch is unused" href="#code-referenced-within-a-preprocessor-macro-conditional-branch-is-unused"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">When Periphery builds your project it uses the default build configuration, which is typically 'debug'. If you use preprocessor macros to conditionally compile code, Periphery will only have visibility into the branches that are compiled. In the example below, <code>releaseName</code> will be reported as unused as it is only referenced within the non-debug branch of the macro.</p>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="struct BuildInfo {
    let debugName = &quot;debug&quot;
    let releaseName = &quot;release&quot; // 'releaseName' is unused

    var name: String {
        #if DEBUG
        debugName
        #else
        releaseName
        #endif
    }
}"><pre><span class="pl-k">struct</span> <span class="pl-smi">BuildInfo</span> <span class="pl-kos">{</span>
    <span class="pl-k">let</span> <span class="pl-s1"><span class="pl-c1">debugName</span></span> <span class="pl-c1">=</span> <span class="pl-s">"</span><span class="pl-s">debug</span><span class="pl-s">"</span>
    <span class="pl-k">let</span> <span class="pl-s1"><span class="pl-c1">releaseName</span></span> <span class="pl-c1">=</span> <span class="pl-s">"</span><span class="pl-s">release</span><span class="pl-s">"</span> // 'releaseName' is unused

    <span class="pl-k">var</span> <span class="pl-s1"><span class="pl-c1">name</span></span><span class="pl-kos">:</span> <span class="pl-smi">String</span> <span class="pl-kos">{</span>
        <span class="pl-en">#if DEBUG</span>
        debugName
        <span class="pl-en">#else</span>
        releaseName
        <span class="pl-en">#endif</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span></pre></div>
<p dir="auto">You have a few options to workaround this:</p>
<ul dir="auto">
<li>Use <a href="#comment-commands">Comment Commands</a> to explicitly ignore <code>releaseName</code>.</li>
<li>Filter the results to remove known instances.</li>
<li>Run Periphery once for each build configuration and merge the results. You can pass arguments to the underlying build by specifying them after <code>--</code>, e.g. <code>periphery scan ... -- -configuration release</code>.</li>
</ul>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Swift package is platform-specific</h3><a id="user-content-swift-package-is-platform-specific" class="anchor" aria-label="Permalink: Swift package is platform-specific" href="#swift-package-is-platform-specific"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Periphery uses <code>swift build</code> to compile a Swift package which will fail if the Swift package is platform-specific (e.g. to iOS).</p>
<p dir="auto">As a workaround, you can manually build the Swift package with <code>xcodebuild</code> and then use the <code>--skip-build</code> and <code>--index-store-path</code> options to target the index store previously produced by <code>xcodebuild</code>.</p>
<p dir="auto">Example:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="# 1. Use xcodebuild
xcodebuild -scheme MyScheme -destination 'platform=iOS Simulator,OS=16.2,name=iPhone 14' -derivedDataPath '../dd' clean build

# 2. Use produced index store for scanning
periphery scan --skip-build --index-store-path '../dd/Index.noindex/DataStore/'"><pre><span class="pl-c"><span class="pl-c">#</span> 1. Use xcodebuild</span>
xcodebuild -scheme MyScheme -destination <span class="pl-s"><span class="pl-pds">'</span>platform=iOS Simulator,OS=16.2,name=iPhone 14<span class="pl-pds">'</span></span> -derivedDataPath <span class="pl-s"><span class="pl-pds">'</span>../dd<span class="pl-pds">'</span></span> clean build

<span class="pl-c"><span class="pl-c">#</span> 2. Use produced index store for scanning</span>
periphery scan --skip-build --index-store-path <span class="pl-s"><span class="pl-pds">'</span>../dd/Index.noindex/DataStore/<span class="pl-pds">'</span></span></pre></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Known Bugs</h2><a id="user-content-known-bugs" class="anchor" aria-label="Permalink: Known Bugs" href="#known-bugs"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Due to some underlying bugs in Swift, Periphery may in some instances report incorrect results.</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th align="left">ID</th>
<th align="left">Title</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a href="https://github.com/apple/swift/issues/56541" data-hovercard-type="issue" data-hovercard-url="/swiftlang/swift/issues/56541/hovercard">56541</a></td>
<td align="left">Index store does not relate static property getter used as subscript key</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/apple/swift/issues/56327" data-hovercard-type="issue" data-hovercard-url="/swiftlang/swift/issues/56327/hovercard">56327</a></td>
<td align="left">Index store does not relate objc optional protocol method implemented in subclass</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/apple/swift/issues/56189" data-hovercard-type="issue" data-hovercard-url="/swiftlang/swift/issues/56189/hovercard">56189</a></td>
<td align="left">Index store should relate appendInterpolation from string literals</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/apple/swift/issues/56165" data-hovercard-type="issue" data-hovercard-url="/swiftlang/swift/issues/56165/hovercard">56165</a></td>
<td align="left">Index store does not relate constructor via literal notation</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Sponsors <a target="_blank" rel="noopener noreferrer" href="assets/sponsor-20.svg"><img src="assets/sponsor-20.svg" alt="Sponsors" style="max-width: 100%;"></a></h2><a id="user-content-sponsors-" class="anchor" aria-label="Permalink: Sponsors " href="#sponsors-"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Periphery is passion project that takes a huge amount of effort to maintain and develop. If you find Periphery useful, please consider sponsoring through <a href="https://github.com/sponsors/peripheryapp">GitHub Sponsors</a>.</p>
<p dir="auto">Special thanks goes to the following generous sponsors:</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">SaGa Corp</h3><a id="user-content-saga-corp" class="anchor" aria-label="Permalink: SaGa Corp" href="#saga-corp"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a href="https://www.sagacorp.fr" rel="nofollow">SaGa Corp</a> develops unique technology for financial players and their customers.</p>
<a href="https://www.sagacorp.fr" alt="SaGa Corp" rel="nofollow">
    <themed-picture data-catalyst-inline="true"><picture>
        <source media="(prefers-color-scheme: dark)" srcset="https://github.com/peripheryapp/periphery/raw/master/assets/sponsors/saga-corp-white.svg">
        <source media="(prefers-color-scheme: light)" srcset="https://github.com/peripheryapp/periphery/raw/master/assets/sponsors/saga-corp-black.svg">
        <img src="https://github.com/peripheryapp/periphery/raw/master/assets/sponsors/saga-corp-black.svg" width="150">
    </picture></themed-picture>
</a>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Emerge Tools</h3><a id="user-content-emerge-tools" class="anchor" aria-label="Permalink: Emerge Tools" href="#emerge-tools"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a href="https://www.emergetools.com" rel="nofollow">Emerge Tools</a> is a suite of revolutionary products designed to supercharge mobile apps and the teams that build them.</p>
<a href="https://www.emergetools.com" alt="Emerge Tools" rel="nofollow">
    <themed-picture data-catalyst-inline="true"><picture>
        <source media="(prefers-color-scheme: dark)" srcset="https://github.com/peripheryapp/periphery/raw/master/assets/sponsors/emerge-tools-vertical-white.svg">
        <source media="(prefers-color-scheme: light)" srcset="https://github.com/peripheryapp/periphery/raw/master/assets/sponsors/emerge-tools-vertical-black.svg">
        <img src="https://github.com/peripheryapp/periphery/raw/master/assets/sponsors/emerge-tools-vertical-black.svg">
    </picture></themed-picture>
</a>
</article></div>