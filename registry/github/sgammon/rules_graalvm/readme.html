<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">GraalVM Rules for Bazel</h1><a id="user-content-graalvm-rules-for-bazel" class="anchor-element" aria-label="Permalink: GraalVM Rules for Bazel" href="#graalvm-rules-for-bazel"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/6e12f3aacd8c93e6df674c1e60e56311ec1010c27c0eb139150e8fae22d945cd/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f42617a656c253230372d626c61636b3f6c6f676f3d64617461253341696d616765253246737667253242786d6c2533426261736536342532435044393462577767646d567963326c76626a30694d5334774969426c626d4e765a476c755a7a3069565652474c546769507a344b50484e325a7942705a443069544746355a584a664d6949675a474630595331755957316c50534a4d59586c6c636941794969423462577875637a30696148523063446f764c336433647935334d793576636d63764d6a41774d43397a646d636949485a705a58644362336739496a41674d4341304d7934314e7941304d79347a4e7949253242436941675047526c5a6e4d25324243694167494341386333523562475525324243694167494341674943356a62484d744d5342374369416749434167494341675a6d6c7362446f67497a41774e444d774d44734b494341674943416766516f4b49434167494341674c6d4e73637930794948734b49434167494341674943426d615778734f69416a4d4441334d4446684f776f67494341674943423943676f6749434167494341755932787a4c544d6765776f67494341674943416749475a706247773649434d304d3245774e44633743694167494341674948304b43694167494341674943356a62484d744e4342374369416749434167494341675a6d6c7362446f67497a63325a4449334e54734b494341674943416766516f67494341675043397a64486c735a54344b494341384c32526c5a6e4d253242436941675047636761575139496b786865575679587a45744d6949675a474630595331755957316c50534a4d59586c6c63694178496a344b49434167494478775958526f49474e7359584e7a50534a6a62484d744d6949675a443069625449784c6a63344c444d794c6a5934646a45774c6a5935624330784d4334344f5330784d4334344f5859744d5441754e6a6c734d5441754f446b734d5441754f446c614969382532424369416749434138634746306143426a6247467a637a30695932787a4c54456949475139496d30794d5334334f43777a4d6934324f4777784d4334354c5445774c6a6735646a45774c6a5935624330784d4334354c4445774c6a6735646930784d4334324f566f694c7a344b49434167494478775958526f49474e7359584e7a50534a6a62484d744d7949675a443069625445774c6a67354c4449784c6a6335646a45774c6a5935544441734d6a45754e5468324c5445774c6a5935624445774c6a67354c4445774c6a6c614969382532424369416749434138634746306143426a6247467a637a30695932787a4c544d6949475139496d30304d7934314e7977784d4334344f5859784d4334324f5777744d5441754f446b734d5441754f5859744d5441754e6a6c734d5441754f446b744d5441754f566f694c7a344b49434167494478775958526f49474e7359584e7a50534a6a62484d744d7949675a443069625449784c6a63344c444d794c6a5934624330784d4334344f5330784d4334344f5377784d4334344f5330784d4334354c4445774c6a6b734d5441754f5330784d4334354c4445774c6a67355769497650676f674943416750484268644767675932786863334d39496d4e73637930304969426b50534a744d5441754f446b734d6a45754e7a6c4d4d4377784d4334344f5377784d4334344f537777624445774c6a67354c4445774c6a67354c5445774c6a67354c4445774c6a6c614969382532424369416749434138634746306143426a6247467a637a30695932787a4c54516949475139496d307a4d6934324f4377794d5334334f5777744d5441754f5330784d43343554444d794c6a59344c4442734d5441754f446b734d5441754f446b744d5441754f446b734d5441754f566f694c7a344b494341384c3263253242436a777663335a6e5067253344253344266c6f676f436f6c6f723d67726179"><img src="https://camo.githubusercontent.com/6e12f3aacd8c93e6df674c1e60e56311ec1010c27c0eb139150e8fae22d945cd/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f42617a656c253230372d626c61636b3f6c6f676f3d64617461253341696d616765253246737667253242786d6c2533426261736536342532435044393462577767646d567963326c76626a30694d5334774969426c626d4e765a476c755a7a3069565652474c546769507a344b50484e325a7942705a443069544746355a584a664d6949675a474630595331755957316c50534a4d59586c6c636941794969423462577875637a30696148523063446f764c336433647935334d793576636d63764d6a41774d43397a646d636949485a705a58644362336739496a41674d4341304d7934314e7941304d79347a4e7949253242436941675047526c5a6e4d25324243694167494341386333523562475525324243694167494341674943356a62484d744d5342374369416749434167494341675a6d6c7362446f67497a41774e444d774d44734b494341674943416766516f4b49434167494341674c6d4e73637930794948734b49434167494341674943426d615778734f69416a4d4441334d4446684f776f67494341674943423943676f6749434167494341755932787a4c544d6765776f67494341674943416749475a706247773649434d304d3245774e44633743694167494341674948304b43694167494341674943356a62484d744e4342374369416749434167494341675a6d6c7362446f67497a63325a4449334e54734b494341674943416766516f67494341675043397a64486c735a54344b494341384c32526c5a6e4d253242436941675047636761575139496b786865575679587a45744d6949675a474630595331755957316c50534a4d59586c6c63694178496a344b49434167494478775958526f49474e7359584e7a50534a6a62484d744d6949675a443069625449784c6a63344c444d794c6a5934646a45774c6a5935624330784d4334344f5330784d4334344f5859744d5441754e6a6c734d5441754f446b734d5441754f446c614969382532424369416749434138634746306143426a6247467a637a30695932787a4c54456949475139496d30794d5334334f43777a4d6934324f4777784d4334354c5445774c6a6735646a45774c6a5935624330784d4334354c4445774c6a6735646930784d4334324f566f694c7a344b49434167494478775958526f49474e7359584e7a50534a6a62484d744d7949675a443069625445774c6a67354c4449784c6a6335646a45774c6a5935544441734d6a45754e5468324c5445774c6a5935624445774c6a67354c4445774c6a6c614969382532424369416749434138634746306143426a6247467a637a30695932787a4c544d6949475139496d30304d7934314e7977784d4334344f5859784d4334324f5777744d5441754f446b734d5441754f5859744d5441754e6a6c734d5441754f446b744d5441754f566f694c7a344b49434167494478775958526f49474e7359584e7a50534a6a62484d744d7949675a443069625449784c6a63344c444d794c6a5934624330784d4334344f5330784d4334344f5377784d4334344f5330784d4334354c4445774c6a6b734d5441754f5330784d4334354c4445774c6a67355769497650676f674943416750484268644767675932786863334d39496d4e73637930304969426b50534a744d5441754f446b734d6a45754e7a6c4d4d4377784d4334344f5377784d4334344f537777624445774c6a67354c4445774c6a67354c5445774c6a67354c4445774c6a6c614969382532424369416749434138634746306143426a6247467a637a30695932787a4c54516949475139496d307a4d6934324f4377794d5334334f5777744d5441754f5330784d43343554444d794c6a59344c4442734d5441754f446b734d5441754f446b744d5441754f446b734d5441754f566f694c7a344b494341384c3263253242436a777663335a6e5067253344253344266c6f676f436f6c6f723d67726179" alt="Bazel 7" data-canonical-src="https://img.shields.io/badge/Bazel%207-black?logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0My41NyA0My4zNyI%2BCiAgPGRlZnM%2BCiAgICA8c3R5bGU%2BCiAgICAgIC5jbHMtMSB7CiAgICAgICAgZmlsbDogIzAwNDMwMDsKICAgICAgfQoKICAgICAgLmNscy0yIHsKICAgICAgICBmaWxsOiAjMDA3MDFhOwogICAgICB9CgogICAgICAuY2xzLTMgewogICAgICAgIGZpbGw6ICM0M2EwNDc7CiAgICAgIH0KCiAgICAgIC5jbHMtNCB7CiAgICAgICAgZmlsbDogIzc2ZDI3NTsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM%2BCiAgPGcgaWQ9IkxheWVyXzEtMiIgZGF0YS1uYW1lPSJMYXllciAxIj4KICAgIDxwYXRoIGNsYXNzPSJjbHMtMiIgZD0ibTIxLjc4LDMyLjY4djEwLjY5bC0xMC44OS0xMC44OXYtMTAuNjlsMTAuODksMTAuODlaIi8%2BCiAgICA8cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Im0yMS43OCwzMi42OGwxMC45LTEwLjg5djEwLjY5bC0xMC45LDEwLjg5di0xMC42OVoiLz4KICAgIDxwYXRoIGNsYXNzPSJjbHMtMyIgZD0ibTEwLjg5LDIxLjc5djEwLjY5TDAsMjEuNTh2LTEwLjY5bDEwLjg5LDEwLjlaIi8%2BCiAgICA8cGF0aCBjbGFzcz0iY2xzLTMiIGQ9Im00My41NywxMC44OXYxMC42OWwtMTAuODksMTAuOXYtMTAuNjlsMTAuODktMTAuOVoiLz4KICAgIDxwYXRoIGNsYXNzPSJjbHMtMyIgZD0ibTIxLjc4LDMyLjY4bC0xMC44OS0xMC44OSwxMC44OS0xMC45LDEwLjksMTAuOS0xMC45LDEwLjg5WiIvPgogICAgPHBhdGggY2xhc3M9ImNscy00IiBkPSJtMTAuODksMjEuNzlMMCwxMC44OSwxMC44OSwwbDEwLjg5LDEwLjg5LTEwLjg5LDEwLjlaIi8%2BCiAgICA8cGF0aCBjbGFzcz0iY2xzLTQiIGQ9Im0zMi42OCwyMS43OWwtMTAuOS0xMC45TDMyLjY4LDBsMTAuODksMTAuODktMTAuODksMTAuOVoiLz4KICA8L2c%2BCjwvc3ZnPg%3D%3D&amp;logoColor=gray" style="max-width: 100%;"></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/b1d43ec70b878e4468bf58bd0b5ef1e29ddb720f4223a9c5aaf796c31b40897e/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f427a6c6d6f642d626c61636b3f6c6f676f3d64617461253341696d616765253246737667253242786d6c2533426261736536342532435044393462577767646d567963326c76626a30694d5334774969426c626d4e765a476c755a7a3069565652474c546769507a344b50484e325a7942705a443069544746355a584a664d6949675a474630595331755957316c50534a4d59586c6c636941794969423462577875637a30696148523063446f764c336433647935334d793576636d63764d6a41774d43397a646d636949485a705a58644362336739496a41674d4341304d7934314e7941304d79347a4e7949253242436941675047526c5a6e4d25324243694167494341386333523562475525324243694167494341674943356a62484d744d5342374369416749434167494341675a6d6c7362446f67497a41774e444d774d44734b494341674943416766516f4b49434167494341674c6d4e73637930794948734b49434167494341674943426d615778734f69416a4d4441334d4446684f776f67494341674943423943676f6749434167494341755932787a4c544d6765776f67494341674943416749475a706247773649434d304d3245774e44633743694167494341674948304b43694167494341674943356a62484d744e4342374369416749434167494341675a6d6c7362446f67497a63325a4449334e54734b494341674943416766516f67494341675043397a64486c735a54344b494341384c32526c5a6e4d253242436941675047636761575139496b786865575679587a45744d6949675a474630595331755957316c50534a4d59586c6c63694178496a344b49434167494478775958526f49474e7359584e7a50534a6a62484d744d6949675a443069625449784c6a63344c444d794c6a5934646a45774c6a5935624330784d4334344f5330784d4334344f5859744d5441754e6a6c734d5441754f446b734d5441754f446c614969382532424369416749434138634746306143426a6247467a637a30695932787a4c54456949475139496d30794d5334334f43777a4d6934324f4777784d4334354c5445774c6a6735646a45774c6a5935624330784d4334354c4445774c6a6735646930784d4334324f566f694c7a344b49434167494478775958526f49474e7359584e7a50534a6a62484d744d7949675a443069625445774c6a67354c4449784c6a6335646a45774c6a5935544441734d6a45754e5468324c5445774c6a5935624445774c6a67354c4445774c6a6c614969382532424369416749434138634746306143426a6247467a637a30695932787a4c544d6949475139496d30304d7934314e7977784d4334344f5859784d4334324f5777744d5441754f446b734d5441754f5859744d5441754e6a6c734d5441754f446b744d5441754f566f694c7a344b49434167494478775958526f49474e7359584e7a50534a6a62484d744d7949675a443069625449784c6a63344c444d794c6a5934624330784d4334344f5330784d4334344f5377784d4334344f5330784d4334354c4445774c6a6b734d5441754f5330784d4334354c4445774c6a67355769497650676f674943416750484268644767675932786863334d39496d4e73637930304969426b50534a744d5441754f446b734d6a45754e7a6c4d4d4377784d4334344f5377784d4334344f537777624445774c6a67354c4445774c6a67354c5445774c6a67354c4445774c6a6c614969382532424369416749434138634746306143426a6247467a637a30695932787a4c54516949475139496d307a4d6934324f4377794d5334334f5777744d5441754f5330784d43343554444d794c6a59344c4442734d5441754f446b734d5441754f446b744d5441754f446b734d5441754f566f694c7a344b494341384c3263253242436a777663335a6e5067253344253344266c6f676f436f6c6f723d67726179"><img src="https://camo.githubusercontent.com/b1d43ec70b878e4468bf58bd0b5ef1e29ddb720f4223a9c5aaf796c31b40897e/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f427a6c6d6f642d626c61636b3f6c6f676f3d64617461253341696d616765253246737667253242786d6c2533426261736536342532435044393462577767646d567963326c76626a30694d5334774969426c626d4e765a476c755a7a3069565652474c546769507a344b50484e325a7942705a443069544746355a584a664d6949675a474630595331755957316c50534a4d59586c6c636941794969423462577875637a30696148523063446f764c336433647935334d793576636d63764d6a41774d43397a646d636949485a705a58644362336739496a41674d4341304d7934314e7941304d79347a4e7949253242436941675047526c5a6e4d25324243694167494341386333523562475525324243694167494341674943356a62484d744d5342374369416749434167494341675a6d6c7362446f67497a41774e444d774d44734b494341674943416766516f4b49434167494341674c6d4e73637930794948734b49434167494341674943426d615778734f69416a4d4441334d4446684f776f67494341674943423943676f6749434167494341755932787a4c544d6765776f67494341674943416749475a706247773649434d304d3245774e44633743694167494341674948304b43694167494341674943356a62484d744e4342374369416749434167494341675a6d6c7362446f67497a63325a4449334e54734b494341674943416766516f67494341675043397a64486c735a54344b494341384c32526c5a6e4d253242436941675047636761575139496b786865575679587a45744d6949675a474630595331755957316c50534a4d59586c6c63694178496a344b49434167494478775958526f49474e7359584e7a50534a6a62484d744d6949675a443069625449784c6a63344c444d794c6a5934646a45774c6a5935624330784d4334344f5330784d4334344f5859744d5441754e6a6c734d5441754f446b734d5441754f446c614969382532424369416749434138634746306143426a6247467a637a30695932787a4c54456949475139496d30794d5334334f43777a4d6934324f4777784d4334354c5445774c6a6735646a45774c6a5935624330784d4334354c4445774c6a6735646930784d4334324f566f694c7a344b49434167494478775958526f49474e7359584e7a50534a6a62484d744d7949675a443069625445774c6a67354c4449784c6a6335646a45774c6a5935544441734d6a45754e5468324c5445774c6a5935624445774c6a67354c4445774c6a6c614969382532424369416749434138634746306143426a6247467a637a30695932787a4c544d6949475139496d30304d7934314e7977784d4334344f5859784d4334324f5777744d5441754f446b734d5441754f5859744d5441754e6a6c734d5441754f446b744d5441754f566f694c7a344b49434167494478775958526f49474e7359584e7a50534a6a62484d744d7949675a443069625449784c6a63344c444d794c6a5934624330784d4334344f5330784d4334344f5377784d4334344f5330784d4334354c4445774c6a6b734d5441754f5330784d4334354c4445774c6a67355769497650676f674943416750484268644767675932786863334d39496d4e73637930304969426b50534a744d5441754f446b734d6a45754e7a6c4d4d4377784d4334344f5377784d4334344f537777624445774c6a67354c4445774c6a67354c5445774c6a67354c4445774c6a6c614969382532424369416749434138634746306143426a6247467a637a30695932787a4c54516949475139496d307a4d6934324f4377794d5334334f5777744d5441754f5330784d43343554444d794c6a59344c4442734d5441754f446b734d5441754f446b744d5441754f446b734d5441754f566f694c7a344b494341384c3263253242436a777663335a6e5067253344253344266c6f676f436f6c6f723d67726179" alt="Bzlmod" data-canonical-src="https://img.shields.io/badge/Bzlmod-black?logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0My41NyA0My4zNyI%2BCiAgPGRlZnM%2BCiAgICA8c3R5bGU%2BCiAgICAgIC5jbHMtMSB7CiAgICAgICAgZmlsbDogIzAwNDMwMDsKICAgICAgfQoKICAgICAgLmNscy0yIHsKICAgICAgICBmaWxsOiAjMDA3MDFhOwogICAgICB9CgogICAgICAuY2xzLTMgewogICAgICAgIGZpbGw6ICM0M2EwNDc7CiAgICAgIH0KCiAgICAgIC5jbHMtNCB7CiAgICAgICAgZmlsbDogIzc2ZDI3NTsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM%2BCiAgPGcgaWQ9IkxheWVyXzEtMiIgZGF0YS1uYW1lPSJMYXllciAxIj4KICAgIDxwYXRoIGNsYXNzPSJjbHMtMiIgZD0ibTIxLjc4LDMyLjY4djEwLjY5bC0xMC44OS0xMC44OXYtMTAuNjlsMTAuODksMTAuODlaIi8%2BCiAgICA8cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Im0yMS43OCwzMi42OGwxMC45LTEwLjg5djEwLjY5bC0xMC45LDEwLjg5di0xMC42OVoiLz4KICAgIDxwYXRoIGNsYXNzPSJjbHMtMyIgZD0ibTEwLjg5LDIxLjc5djEwLjY5TDAsMjEuNTh2LTEwLjY5bDEwLjg5LDEwLjlaIi8%2BCiAgICA8cGF0aCBjbGFzcz0iY2xzLTMiIGQ9Im00My41NywxMC44OXYxMC42OWwtMTAuODksMTAuOXYtMTAuNjlsMTAuODktMTAuOVoiLz4KICAgIDxwYXRoIGNsYXNzPSJjbHMtMyIgZD0ibTIxLjc4LDMyLjY4bC0xMC44OS0xMC44OSwxMC44OS0xMC45LDEwLjksMTAuOS0xMC45LDEwLjg5WiIvPgogICAgPHBhdGggY2xhc3M9ImNscy00IiBkPSJtMTAuODksMjEuNzlMMCwxMC44OSwxMC44OSwwbDEwLjg5LDEwLjg5LTEwLjg5LDEwLjlaIi8%2BCiAgICA8cGF0aCBjbGFzcz0iY2xzLTQiIGQ9Im0zMi42OCwyMS43OWwtMTAuOS0xMC45TDMyLjY4LDBsMTAuODksMTAuODktMTAuODksMTAuOVoiLz4KICA8L2c%2BCjwvc3ZnPg%3D%3D&amp;logoColor=gray" style="max-width: 100%;"></a>
<a href="https://github.com/sgammon/rules_graalvm/actions/workflows/on.push.yml"><img src="https://github.com/sgammon/rules_graalvm/actions/workflows/on.push.yml/badge.svg" alt="CI" style="max-width: 100%;"></a>
<a href="CODE_OF_CONDUCT.md"><img src="https://camo.githubusercontent.com/b14a3a4a80e99e4ced38215ba5bb67eeb81c5465cd353f83365b972501765b61/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f436f6e7472696275746f72253230436f76656e616e742d76312e342d6666363962342e737667" alt="Contributor Covenant" data-canonical-src="https://img.shields.io/badge/Contributor%20Covenant-v1.4-ff69b4.svg" style="max-width: 100%;"></a>
<a href="https://www.bestpractices.dev/projects/8287" rel="nofollow"><img src="https://camo.githubusercontent.com/5adc30988126b4d6f6f5af00b7fc97cb5c1f3414ef2aebf0db3e3c018ee15586/68747470733a2f2f7777772e626573747072616374696365732e6465762f70726f6a656374732f383238372f6261646765" alt="OpenSSF Best Practices" data-canonical-src="https://www.bestpractices.dev/projects/8287/badge" style="max-width: 100%;"></a>
<a href="https://securityscorecards.dev/viewer/?uri=github.com/sgammon/rules_graalvm" rel="nofollow"><img src="https://camo.githubusercontent.com/476f872496fea4ad2e879c14cd860b0fe868c7069f84875019849cbe53ff1d3d/68747470733a2f2f6170692e736563757269747973636f726563617264732e6465762f70726f6a656374732f6769746875622e636f6d2f7367616d6d6f6e2f72756c65735f677261616c766d2f6261646765" alt="OpenSSF Scorecard" data-canonical-src="https://api.securityscorecards.dev/projects/github.com/sgammon/rules_graalvm/badge" style="max-width: 100%;"></a></p>
<hr>
<blockquote>
<p dir="auto">Latest release: <a href="https://registry.bazel.build/modules/rules_graalvm" rel="nofollow"><code>0.11.1</code></a></p>
</blockquote>
<p dir="auto">Use <a href="https://graalvm.org" rel="nofollow">GraalVM</a> with <a href="https://bazel.build" rel="nofollow">Bazel</a> to:</p>
<ul dir="auto">
<li><a href="./docs/native-image.md">Build native binaries from polyglot apps</a></li>
<li><a href="./docs/shared-libraries.md">Build native shared libraries from Java or polyglot code</a></li>
<li><a href="./docs/toolchain.md">Use GraalVM as a Bazel Java toolchain</a></li>
<li><a href="./docs/maven-artifacts.md">Easily use GraalVM Maven artifacts</a></li>
<li><a href="./docs/components.md">Install components with <code>gu</code></a></li>
</ul>
<p dir="auto"><strong>Additional features:</strong></p>
<ul dir="auto">
<li><a href="./docs/examples.md">Example projects for all use cases</a></li>
<li><a href="./docs/hermeticity.md">Hermetic compilation on all platforms</a></li>
<li><a href="./docs/binary-targets.md">Run tools from GraalVM directly</a></li>
<li><a href="./docs/modern-bazel.md">Support for Bazel 6, Bazel 7, and Bzlmod</a></li>
<li><a href="./legacy-bazel.md">Support for Bazel 4 and Bazel 5, drop-in replacement for <code>rules_graal</code></a></li>
<li>Support for macOS, Linux, Windows (including Native Image!) (<a href="./docs/modern-bazel.md">support matrix</a>)</li>
<li>Support for the latest modern GraalVM releases (Community Edition and Oracle GraalVM)</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Getting Started</h2><a id="user-content-getting-started" class="anchor-element" aria-label="Permalink: Getting Started" href="#getting-started"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><a href="#installation">Installation</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#usage-java-toolchains">Usage: Java Toolchains</a></li>
<li><a href="#usage-native-image-modern-bazel">Usage: Native Image (Bazel 6+)</a></li>
<li><a href="#usage-native-image-legacy-bazel">Usage: Native Image (Bazel 4-6)</a></li>
<li><a href="#hermeticity-strictness">Hermeticity &amp; Strictness</a></li>
<li><a href="#graalvm-toolchains">GraalVM Toolchains</a></li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Installation</h2><a id="user-content-installation" class="anchor-element" aria-label="Permalink: Installation" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<blockquote>
<p dir="auto">API docs for <a href="./api/repositories.md"><code>graalvm_repository</code></a></p>
</blockquote>
<p dir="auto"><strong>Via <code>WORKSPACE.bazel</code>:</strong></p>
<table>
<thead>
<tr>
<th>Artifact</th>
<th>SHA256</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>rules_graalvm-0.11.1.zip</code></td>
<td><code>e4fa275b062dcd03b1ecb02bb25f01ead512023006a874a5e0c2cb78ba6d8e73</code></td>
</tr>
<tr>
<td><code>rules_graalvm-0.11.1.tgz</code></td>
<td><code>0128b4a8664974689fadae56b517de627c5f42141925111baf05dc91c37af1c0</code></td>
</tr>
</tbody>
</table>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="http_archive(
    name = &quot;rules_graalvm&quot;,
    sha256 = &quot;e4fa275b062dcd03b1ecb02bb25f01ead512023006a874a5e0c2cb78ba6d8e73&quot;,
    strip_prefix = &quot;rules_graalvm-0.11.1&quot;,
    urls = [
        &quot;https://github.com/sgammon/rules_graalvm/releases/download/v0.11.1/rules_graalvm-0.11.1.zip&quot;,
    ],
)"><pre><span class="pl-en">http_archive</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"rules_graalvm"</span>,
    <span class="pl-s1">sha256</span> <span class="pl-c1">=</span> <span class="pl-s">"e4fa275b062dcd03b1ecb02bb25f01ead512023006a874a5e0c2cb78ba6d8e73"</span>,
    <span class="pl-s1">strip_prefix</span> <span class="pl-c1">=</span> <span class="pl-s">"rules_graalvm-0.11.1"</span>,
    <span class="pl-s1">urls</span> <span class="pl-c1">=</span> [
        <span class="pl-s">"https://github.com/sgammon/rules_graalvm/releases/download/v0.11.1/rules_graalvm-0.11.1.zip"</span>,
    ],
)</pre></div>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@rules_graalvm//graalvm:repositories.bzl&quot;, &quot;graalvm_repository&quot;)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@rules_graalvm//graalvm:repositories.bzl"</span>, <span class="pl-s">"graalvm_repository"</span>)</pre></div>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="graalvm_repository(
    name = &quot;graalvm&quot;,
    distribution = &quot;ce&quot;,  # `oracle`, `ce`, or `community`
    java_version = &quot;21&quot;,  # `17`, `20`, or `21`, as supported by the version provided
    version = &quot;21.0.2&quot;,  # earlier version format like `22.x` also supported
)"><pre><span class="pl-en">graalvm_repository</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"graalvm"</span>,
    <span class="pl-s1">distribution</span> <span class="pl-c1">=</span> <span class="pl-s">"ce"</span>,  <span class="pl-c"># `oracle`, `ce`, or `community`</span>
    <span class="pl-s1">java_version</span> <span class="pl-c1">=</span> <span class="pl-s">"21"</span>,  <span class="pl-c"># `17`, `20`, or `21`, as supported by the version provided</span>
    <span class="pl-s1">version</span> <span class="pl-c1">=</span> <span class="pl-s">"21.0.2"</span>,  <span class="pl-c"># earlier version format like `22.x` also supported</span>
)</pre></div>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@rules_graalvm//graalvm:workspace.bzl&quot;, &quot;register_graalvm_toolchains&quot;, &quot;rules_graalvm_repositories&quot;)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@rules_graalvm//graalvm:workspace.bzl"</span>, <span class="pl-s">"register_graalvm_toolchains"</span>, <span class="pl-s">"rules_graalvm_repositories"</span>)</pre></div>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="rules_graalvm_repositories()

register_graalvm_toolchains()"><pre><span class="pl-en">rules_graalvm_repositories</span>()

<span class="pl-en">register_graalvm_toolchains</span>()</pre></div>
<p dir="auto"><strong>Or, via <code>MODULE.bazel</code>:</strong></p>
<table>
<thead>
<tr>
<th>Artifact</th>
<th>Integrity value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>rules_graalvm-0.11.1.zip</code></td>
<td><code>sha256-5PonWwYtzQOx7LArsl8B6tUSAjAGqHSl4MLLeLptjnM=</code></td>
</tr>
<tr>
<td><code>rules_graalvm-0.11.1.tgz</code></td>
<td><code>sha256-ASi0qGZJdGifra5WtRfeYnxfQhQZJREbrwXckcN68cA=</code></td>
</tr>
</tbody>
</table>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="bazel_dep(name = &quot;rules_graalvm&quot;, version = &quot;0.11.1&quot;)"><pre><span class="pl-en">bazel_dep</span>(<span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"rules_graalvm"</span>, <span class="pl-s1">version</span> <span class="pl-c1">=</span> <span class="pl-s">"0.11.1"</span>)</pre></div>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="gvm = use_extension(&quot;@rules_graalvm//:extensions.bzl&quot;, &quot;graalvm&quot;)

gvm.graalvm(
    name = &quot;graalvm&quot;,
    version = &quot;21.0.2&quot;,  # earlier version format like `22.x` also supported
    distribution = &quot;ce&quot;,  # `oracle`, `ce`, or `community`
    java_version = &quot;21&quot;,  # `17`, `20`, or `21`, as supported by the version provided
)
use_repo(gvm, &quot;graalvm&quot;)
register_toolchains(&quot;@graalvm//:jvm&quot;)
register_toolchains(&quot;@graalvm//:sdk&quot;)"><pre><span class="pl-s1">gvm</span> <span class="pl-c1">=</span> <span class="pl-en">use_extension</span>(<span class="pl-s">"@rules_graalvm//:extensions.bzl"</span>, <span class="pl-s">"graalvm"</span>)

<span class="pl-s1">gvm</span>.<span class="pl-en">graalvm</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"graalvm"</span>,
    <span class="pl-s1">version</span> <span class="pl-c1">=</span> <span class="pl-s">"21.0.2"</span>,  <span class="pl-c"># earlier version format like `22.x` also supported</span>
    <span class="pl-s1">distribution</span> <span class="pl-c1">=</span> <span class="pl-s">"ce"</span>,  <span class="pl-c"># `oracle`, `ce`, or `community`</span>
    <span class="pl-s1">java_version</span> <span class="pl-c1">=</span> <span class="pl-s">"21"</span>,  <span class="pl-c"># `17`, `20`, or `21`, as supported by the version provided</span>
)
<span class="pl-en">use_repo</span>(<span class="pl-s1">gvm</span>, <span class="pl-s">"graalvm"</span>)
<span class="pl-en">register_toolchains</span>(<span class="pl-s">"@graalvm//:jvm"</span>)
<span class="pl-en">register_toolchains</span>(<span class="pl-s">"@graalvm//:sdk"</span>)</pre></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Examples</h2><a id="user-content-examples" class="anchor-element" aria-label="Permalink: Examples" href="#examples"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">See the list of <a href="./docs/examples.md">examples</a>, which are used as continuous integration tests. Examples are available
for Bazel 4-7.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Usage: Java Toolchains</h2><a id="user-content-usage-java-toolchains" class="anchor-element" aria-label="Permalink: Usage: Java Toolchains" href="#usage-java-toolchains"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">You can use the <code>graalvm_repository</code> as a Java toolchain, by registering it like below:</p>
<p dir="auto"><strong>Via <code>WORKSPACE.bazel</code>:</strong></p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@rules_graalvm//graalvm:workspace.bzl&quot;, &quot;register_graalvm_toolchains&quot;, &quot;rules_graalvm_repositories&quot;)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@rules_graalvm//graalvm:workspace.bzl"</span>, <span class="pl-s">"register_graalvm_toolchains"</span>, <span class="pl-s">"rules_graalvm_repositories"</span>)</pre></div>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="rules_graalvm_repositories()

register_graalvm_toolchains()"><pre><span class="pl-en">rules_graalvm_repositories</span>()

<span class="pl-en">register_graalvm_toolchains</span>()</pre></div>
<p dir="auto"><strong>Via Bzlmod:</strong></p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="register_toolchains(&quot;@graalvm//:jvm&quot;)
register_toolchains(&quot;@graalvm//:sdk&quot;)"><pre><span class="pl-en">register_toolchains</span>(<span class="pl-s">"@graalvm//:jvm"</span>)
<span class="pl-en">register_toolchains</span>(<span class="pl-s">"@graalvm//:sdk"</span>)</pre></div>
<p dir="auto"><strong>To <em>use</em> the toolchain, add this to your <code>.bazelrc</code>:</strong></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="build --extra_toolchains=@graalvm//:toolchain
build --java_runtime_version=graalvm_20"><pre class="notranslate"><code>build --extra_toolchains=@graalvm//:toolchain
build --java_runtime_version=graalvm_20
</code></pre></div>
<blockquote>
<p dir="auto"><strong>Note</strong>
If you name your repository <code>example</code> and set the Java version to <code>21</code>, your <code>java_runtime_version</code> would be <code>example_21</code>.</p>
</blockquote>
<p dir="auto"><a id="user-content-usage-native-image-modern-bazel"></a></p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Usage: Native Image (Bazel 6+)</h2><a id="user-content-usage-native-image-bazel-6" class="anchor-element" aria-label="Permalink: Usage: Native Image (Bazel 6+)" href="#usage-native-image-bazel-6"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<blockquote>
<p dir="auto">API docs for <a href="./api/defs.md"><code>native_image</code></a></p>
</blockquote>
<p dir="auto"><strong>In a <code>BUILD.bazel</code> file:</strong></p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@rules_java//java:defs.bzl&quot;, &quot;java_library&quot;)
load(&quot;@rules_graalvm//graalvm:defs.bzl&quot;, &quot;native_image&quot;)

java_library(
    name = &quot;main&quot;,
    srcs = glob([&quot;Main.java&quot;]),
)

native_image(
    name = &quot;main-native&quot;,
    deps = [&quot;:main&quot;],
    main_class = &quot;Main&quot;,
    native_image_tool = &quot;@graalvm//:native-image&quot;,
)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@rules_java//java:defs.bzl"</span>, <span class="pl-s">"java_library"</span>)
<span class="pl-en">load</span>(<span class="pl-s">"@rules_graalvm//graalvm:defs.bzl"</span>, <span class="pl-s">"native_image"</span>)

<span class="pl-en">java_library</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"main"</span>,
    <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> <span class="pl-en">glob</span>([<span class="pl-s">"Main.java"</span>]),
)

<span class="pl-en">native_image</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"main-native"</span>,
    <span class="pl-s1">deps</span> <span class="pl-c1">=</span> [<span class="pl-s">":main"</span>],
    <span class="pl-s1">main_class</span> <span class="pl-c1">=</span> <span class="pl-s">"Main"</span>,
    <span class="pl-s1">native_image_tool</span> <span class="pl-c1">=</span> <span class="pl-s">"@graalvm//:native-image"</span>,
)</pre></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Native image toolchains</h3><a id="user-content-native-image-toolchains" class="anchor-element" aria-label="Permalink: Native image toolchains" href="#native-image-toolchains"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">It is supported to specify the <code>native-image</code> tool as above, using the <code>native_image_tool</code> attribute
on your target. In fact, you <em>must</em> do this <em>unless</em> you register the GraalVM toolchains as shown in
the installation instructions.</p>
<p dir="auto">When using toolchains, the <code>native_image_tool</code> attribute can be omitted, which delegates to Bazel's
toolchain system to resolve the tool:</p>
<p dir="auto"><strong>Resolve via toolchains:</strong></p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="native_image(
    name = &quot;main-native&quot;,
    deps = [&quot;:main&quot;],
    main_class = &quot;Main&quot;,
)"><pre><span class="pl-en">native_image</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"main-native"</span>,
    <span class="pl-s1">deps</span> <span class="pl-c1">=</span> [<span class="pl-s">":main"</span>],
    <span class="pl-s1">main_class</span> <span class="pl-c1">=</span> <span class="pl-s">"Main"</span>,
)</pre></div>
<p dir="auto"><strong>Or point to a specific <code>native-image</code> tool:</strong></p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="native_image(
    name = &quot;main-native&quot;,
    deps = [&quot;:main&quot;],
    main_class = &quot;Main&quot;,
    native_image_tool = &quot;@graalvm//:native-image&quot;,
)"><pre><span class="pl-en">native_image</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"main-native"</span>,
    <span class="pl-s1">deps</span> <span class="pl-c1">=</span> [<span class="pl-s">":main"</span>],
    <span class="pl-s1">main_class</span> <span class="pl-c1">=</span> <span class="pl-s">"Main"</span>,
    <span class="pl-s1">native_image_tool</span> <span class="pl-c1">=</span> <span class="pl-s">"@graalvm//:native-image"</span>,
)</pre></div>
<p dir="auto"><a id="user-content-usage-native-image-legacy-bazel"></a></p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Usage: Native Image (Bazel 4 &amp; 5)</h2><a id="user-content-usage-native-image-bazel-4--5" class="anchor-element" aria-label="Permalink: Usage: Native Image (Bazel 4 &amp; 5)" href="#usage-native-image-bazel-4--5"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<blockquote>
<p dir="auto">API docs for legacy <a href="./api/legacy.md"><code>native_image</code></a> rule</p>
</blockquote>
<p dir="auto"><strong>In a <code>BUILD.bazel</code> file:</strong></p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@rules_java//java:defs.bzl&quot;, &quot;java_library&quot;)
load(&quot;@rules_graalvm//graal:graal.bzl&quot;, &quot;native_image&quot;)

java_library(
    name = &quot;main&quot;,
    srcs = glob([&quot;Main.java&quot;]),
)

native_image(
    name = &quot;main-native&quot;,
    deps = [&quot;:main&quot;],
    main_class = &quot;Main&quot;,
)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@rules_java//java:defs.bzl"</span>, <span class="pl-s">"java_library"</span>)
<span class="pl-en">load</span>(<span class="pl-s">"@rules_graalvm//graal:graal.bzl"</span>, <span class="pl-s">"native_image"</span>)

<span class="pl-en">java_library</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"main"</span>,
    <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> <span class="pl-en">glob</span>([<span class="pl-s">"Main.java"</span>]),
)

<span class="pl-en">native_image</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"main-native"</span>,
    <span class="pl-s1">deps</span> <span class="pl-c1">=</span> [<span class="pl-s">":main"</span>],
    <span class="pl-s1">main_class</span> <span class="pl-c1">=</span> <span class="pl-s">"Main"</span>,
)</pre></div>
<div class="markdown-alert markdown-alert-important" dir="auto"><p class="markdown-alert-title" dir="auto"><svg class="octicon octicon-report mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>Important</p><p dir="auto">In the legacy rules, you don't have to specify <code>native_image_tool</code>, but on the other hand, the default target <code>@graalvm//:native-image</code> is hard-coded in. If you use a different repository name make sure to add the <code>native_image_tool</code> attribute to point to <code>@yourrepo//:native-image</code>.</p>
</div>
<p dir="auto"><a id="user-content-hermeticity-strictness"></a></p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Hermeticity &amp; Strictness</h2><a id="user-content-hermeticity--strictness" class="anchor-element" aria-label="Permalink: Hermeticity &amp; Strictness" href="#hermeticity--strictness"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">These rules attempt to strike as optimal a balance as possible between older Bazel support (starting at Bazel 4) and the
maximum possible strictness/hermeticity for action execution.</p>
<p dir="auto"><a href="https://bazel.build/extending/toolchains" rel="nofollow">Bazel Toolchains</a> are used to resolve the C++ compiler which is provided to <code>native-image</code>.
Toolchains are additionally used within the rules to provide and resolve tools from GraalVM itself.</p>
<p dir="auto">For information about strictness tuning on each operating system, see the <a href="./docs/hermeticity.md">hermeticity guide</a>.</p>
<p dir="auto"><a id="user-content-graalvm-toolchains"></a></p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">GraalVM toolchain type</h3><a id="user-content-graalvm-toolchain-type" class="anchor-element" aria-label="Permalink: GraalVM toolchain type" href="#graalvm-toolchain-type"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The GraalVM-specific toolchain type is available at:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="@rules_graalvm//graalvm/toolchain:toolchain_type"><pre class="notranslate"><code>@rules_graalvm//graalvm/toolchain:toolchain_type
</code></pre></div>
<p dir="auto">If you install GraalVM at a repository named <code>@graalvm</code>, the toolchain targets are:</p>
<p dir="auto"><strong>Java toolchain:</strong></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="@graalvm//:jvm"><pre class="notranslate"><code>@graalvm//:jvm
</code></pre></div>
<p dir="auto"><strong>GraalVM toolchain:</strong></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="@graalvm//:sdk"><pre class="notranslate"><code>@graalvm//:sdk
</code></pre></div>
<p dir="auto">The default <code>WORKSPACE</code> and Bzlmod installation instructions register both types of toolchains.
<strong>The GraalVM toolchain is required</strong> to perform builds with <code>native-image</code> (or you must provide a <code>native_image_tool</code>
target).</p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Adoption</h1><a id="user-content-adoption" class="anchor-element" aria-label="Permalink: Adoption" href="#adoption"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><code>rules_graalvm</code> is used in the following organizations and in <a href="https://github.com/bazelbuild/bazel/pull/19361" data-hovercard-type="pull_request" data-hovercard-url="/bazelbuild/bazel/pull/19361/hovercard">Bazel itself</a>, as part of the <a href="https://github.com/google/turbine">Turbine</a> toolchain.</p>
<p dir="auto">If you are using <code>rules_graalvm</code>, let us know with a PR!</p>
<br>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="./docs/images/google.svg"><img src="./docs/images/google.svg" alt="Google logo" height="40" style="max-width: 100%;"></a></p>
<blockquote>
<p dir="auto">Bazel uses <code>rules_graalvm</code> for <a href="https://github.com/bazelbuild/bazel/pull/19361" data-hovercard-type="pull_request" data-hovercard-url="/bazelbuild/bazel/pull/19361/hovercard">Native Turbine</a>.</p>
</blockquote>
<br>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="./docs/images/netflix.png"><img src="./docs/images/netflix.png" alt="Netflix logo" height="50" style="max-width: 100%;"></a></p>
<blockquote>
<p dir="auto">Netflix apparently uses it somehow.</p>
</blockquote>
<br>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="./docs/images/elide.png"><img src="./docs/images/elide.png" alt="Elide logo" height="40" style="max-width: 100%;"></a></p>
<blockquote>
<p dir="auto">Elide uses <code>rules_graalvm</code> as part of the tooling for the <a href="https://elide.dev" rel="nofollow">Elide Runtime</a>, and for <a href="https://less.build" rel="nofollow">Buildless</a>.</p>
</blockquote>
<br>
<p dir="auto"><a href="https://star-history.com/#sgammon/rules_graalvm&amp;Date" rel="nofollow"><img src="https://camo.githubusercontent.com/5f201fdbefedbf33393659eba34c48d79517fa6c5c0fd9033ea0708ba52372ba/68747470733a2f2f6170692e737461722d686973746f72792e636f6d2f7376673f7265706f733d7367616d6d6f6e2f72756c65735f677261616c766d26747970653d44617465" alt="Star History Chart" data-canonical-src="https://api.star-history.com/svg?repos=sgammon/rules_graalvm&amp;type=Date" style="max-width: 100%;"></a></p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Acknowledgements</h1><a id="user-content-acknowledgements" class="anchor-element" aria-label="Permalink: Acknowledgements" href="#acknowledgements"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Built on top of @andyscott's fantastic work with <a href="https://github.com/andyscott/rules_graal">rules_graal</a>. Several contributors helped greatly, especially with regard to Bazel's toolchains and C++ features: @fmeum and others.</p>
</article></div>